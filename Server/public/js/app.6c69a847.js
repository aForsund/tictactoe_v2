(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],h=0,d=[];h<r.length;h++)o=r[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},i=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},"1fad":function(t,e,s){"use strict";var n=s("7054"),a=s.n(n);a.a},"2ba3":function(t,e,s){"use strict";var n=s("5d4b"),a=s.n(n);a.a},"3a4c":function(t,e,s){"use strict";var n=s("57dd"),a=s.n(n);a.a},5339:function(t,e,s){},"566d":function(t,e,s){"use strict";var n=s("5339"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var n={};s.r(n),s.d(n,"namespaced",(function(){return te})),s.d(n,"state",(function(){return ee})),s.d(n,"mutations",(function(){return se})),s.d(n,"actions",(function(){return ne}));var a={};s.r(a),s.d(a,"namespaced",(function(){return _e})),s.d(a,"state",(function(){return Ce})),s.d(a,"mutations",(function(){return Oe})),s.d(a,"actions",(function(){return we})),s.d(a,"getters",(function(){return ke}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),o=s("289d"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero is-dark is-fullheight is-bold",attrs:{id:"app"}},[s("div",{staticClass:"hero-head"},[s("NavBar")],1),s("div",{staticClass:"hero-body"},[s("router-view")],1),t._m(0)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero-foot has-text-right"},[s("span",[s("a",{attrs:{href:"https://bulma.io"}},[s("img",{attrs:{src:"https://bulma.io/images/made-with-bulma--white.png",alt:"Made with Bulma",width:"128",height:"24"}})])])])}],l=s("5530"),u=s("2f62"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar is-dark is-unselectable",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-brand"},[t._m(0),s("div",{staticClass:"navbar-burger",class:{"is-active":t.getNavStatus},attrs:{"data-target":"navMenu","aria-label":"menu","aria-expanded":"false"},on:{click:t.clickBurger}},[s("span"),s("span"),s("span")])]),s("div",{staticClass:"navbar-menu",class:{"is-active":t.getNavStatus},attrs:{id:"navMenu"}},[s("div",{staticClass:"navbar-end",on:{click:t.disableNav}},[s("router-link",{staticClass:"navbar-item",attrs:{to:{name:"about"}},on:{click:t.disableNav}},[t._v("About")]),s("router-link",{staticClass:"navbar-item",attrs:{to:{name:"game"}},on:{click:t.disableNav}},[t._v("Local Game")]),t.loggedIn?s("router-link",{staticClass:"navbar-item",attrs:{to:{name:"rankings"}},on:{click:t.disableNav}},[t._v("Rankings")]):t._e(),t.loggedIn?s("router-link",{staticClass:"navbar-item",attrs:{to:{name:"dashboard"}},on:{click:t.disableNav}},[t._v("Dashboard")]):t._e(),s("span",{staticClass:"navbar-item"},[t.loggedIn?s("div",{staticClass:"button is-primary has-text-weight-semibold",on:{click:t.logOut}},[t._v(" Log Out ")]):s("div",{staticClass:"button is-primary has-text-weight-semibold",on:{click:t.openModal}},[t._v(" Log In ")])])],1)])])])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"navbar-item"},[s("p",{staticClass:"has-text-weight-bold is-size-4 has-text-primary is-absolute"},[t._v(" Tic Tac Toe ")])])}],m={computed:Object(l["a"])(Object(l["a"])({},Object(u["c"])("user",["loggedIn","online","messages"])),{},{getNavStatus:function(){return this.$store.state.showNav}}),data:function(){return{showNav:!1,navStatus:{burgerOpen:!1}}},methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["openModal","logOut"])),{},{clickBurger:function(){this.$store.commit("CLICK_NAV")},disableNav:function(){this.$store.commit("CLICK_LINK")}})},p=m,f=(s("c87a"),s("2877")),v=Object(f["a"])(p,h,d,!1,null,"18dbdcb0",null),g=v.exports,y={data:function(){return{userString:null}},components:{NavBar:g},methods:Object(l["a"])({},Object(u["b"])("user",["setUser","logOut","testJWT"])),created:function(){this.userString=localStorage.getItem("user"),this.userString&&(console.log("userString",this.userString),this.setUser(JSON.parse(this.userString)),this.testJWT())}},b=y,_=(s("5c0b"),Object(f["a"])(b,r,c,!1,null,null,null)),C=_.exports,O=(s("45fc"),s("8c4f")),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Tic Tac Toe")]),s("div",{staticClass:"columns is-variable is-multiline is-3"},[s("div",{staticClass:"column is-8"},[s("div",{staticClass:"notification is-dark content"},[s("h3",{staticClass:"subtitle"},[t._v("About")]),s("p",[t._v(" This is a demo project of a tic tac toe game, with computer vs computer mode. ")]),s("p",[t._v(" This app is built with Vue.js and Buefy component library, and styled with Bulma CSS framework. App is served by express with API interface and mongoDB. ")]),s("p",[t._v("Please visit the GitHub repository to view the source code.")]),t.loggedIn?t._e():s("p",[t._v(" Please log in or create an account to see the functionality of this project. ")]),s("div",{staticClass:"mt-4"},[s("a",{staticClass:"button is-primary",attrs:{href:"https://github.com/aForsund/tictactoe_v2"}},[t._v("GitHub repository")]),t.loggedIn?t._e():s("button",{staticClass:"button is-primary login",on:{click:t.openModal}},[s("strong",[t._v("Log In")])])])])]),t._m(0),t._m(1),t._m(2)])])},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-dark is-4"},[s("div",{staticClass:"notification is-dark content"},[s("h4",{staticClass:"subtitle"},[t._v("Front end")]),s("ul",[s("li",[t._v("Vue.js and Vuex")]),s("li",[t._v("JavaScript game logic")]),s("li",[t._v("axios")]),s("li",[t._v("Bulma CSS framework")]),s("li",[t._v("Buefy interface library")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-4"},[s("div",{staticClass:"notification is-dark content"},[s("h4",{staticClass:"subtitle"},[t._v("Back end")]),s("ul",[s("li",[t._v("Node.js + Express")]),s("li",[t._v("Express passport with JWT")]),s("li",[t._v("mongoDB")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-8"},[s("div",{staticClass:"notification is-dark content"},[s("h3",{staticClass:"subtitle"},[t._v("Future Updates")]),s("ul",[s("li",[t._v("Login system with JWT to authenticate users")]),s("li",[t._v("Multiplayer mode with rank system")]),s("li",[t._v(" Use magic square to decide if a game is a draw before the 9th mark is placed on the board, e.g draw game if no possible win condition ")]),s("li",[t._v("Use minimax algorithm to select computer difficulty")])])])])}],E={computed:Object(u["c"])("user",["loggedIn"]),methods:Object(u["b"])("user",["openModal"])},S=E,T=(s("86e0"),Object(f["a"])(S,w,k,!1,null,"93148cc8",null)),A=T.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container has-text-centered is-unselectable game"},[t.localGame||t.historyView?t.historyView?s("div",[s("History")],1):s("div",[s("TicTacToe")],1):s("div",[s("Options"),s("Start")],1)])])},R=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container has-text-centered"},[s("h1",{staticClass:"title"},[t._v("Please select options")]),s("p",{staticClass:"mb-4 is-size-4"},[t._v(" Player one: "+t._s(t.playerOne.cpu?"CPU #"+t.playerOne.difficulty:"Local Player")+" ")]),s("div",{staticClass:"columns is-centered is-vcentered"},[s("div",{staticClass:"column is-narrow"},[s("div",{staticClass:"player-select"},[s("b-switch",{attrs:{value:t.playerOne.cpu,type:"is-success","passive-type":"is-primary"},model:{value:t.playerOne.cpu,callback:function(e){t.$set(t.playerOne,"cpu",e)},expression:"playerOne.cpu"}},[t._v(" CPU ")])],1)]),s("div",{staticClass:"column is-narrow slider"},[s("b-field",[s("b-slider",{attrs:{size:"is-medium",type:t.playerOne.cpu?"is-success":"is-primary",min:0,max:3,value:t.playerOne.difficulty,tooltip:!1},on:{dragging:function(e){t.playerOne.cpu=!0}},model:{value:t.playerOne.difficulty,callback:function(e){t.$set(t.playerOne,"difficulty",e)},expression:"playerOne.difficulty"}})],1)],1)]),s("p",{staticClass:"mt-4 mb-4 is-size-4"},[t._v(" Player two: "+t._s(t.playerTwo.cpu?"CPU #"+t.playerTwo.difficulty:"Local Player")+" ")]),s("div",{staticClass:"columns is-centered is-vcentered"},[s("div",{staticClass:"column is-narrow"},[s("div",{staticClass:"player-select"},[s("b-switch",{attrs:{value:t.playerTwo.cpu,type:"is-success","passive-type":"is-primary"},model:{value:t.playerTwo.cpu,callback:function(e){t.$set(t.playerTwo,"cpu",e)},expression:"playerTwo.cpu"}},[t._v(" CPU ")])],1)]),s("div",{staticClass:"column is-narrow slider"},[s("b-slider",{attrs:{size:"is-medium",type:t.playerTwo.cpu?"is-success":"is-primary",min:0,max:3,value:t.playerTwo.difficulty,tooltip:!1},on:{dragging:function(e){t.playerTwo.cpu=!0}},model:{value:t.playerTwo.difficulty,callback:function(e){t.$set(t.playerTwo,"difficulty",e)},expression:"playerTwo.difficulty"}})],1)])])},j=[],N={computed:Object(l["a"])({},Object(u["d"])({playerOne:function(t){return t.localGameOptions.playerOne},playerTwo:function(t){return t.localGameOptions.playerTwo}}))},M=N,P=(s("6318"),Object(f["a"])(M,I,j,!1,null,"456625a8",null)),G=P.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container has-text-centered tictactoe"},[s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"columns is-mobile"},[s("div",{staticClass:"column"},[s("div",[s("h1",{key:"playerOne",staticClass:"subtitle"},[t._v("X: "+t._s(t.playerOne))]),s("h1",{key:t.playerOneScore,staticClass:"title"},[t._v(" "+t._s(t.playerOneScore)+" ")])])]),s("div",{staticClass:"column is-narrow"},[s("div",[s("h1",{key:"turn",staticClass:"subtitle"},[t._v("Turn")]),s("h1",{key:t.game.status.turnCount,staticClass:"title"},[t._v(" "+t._s(t.game.status.turnCount)+" ")])])]),s("div",{staticClass:"column"},[s("div",[s("h1",{key:"playerTwo",staticClass:"subtitle"},[t._v("O: "+t._s(t.playerTwo))]),s("h1",{key:t.playerTwoScore,staticClass:"title"},[t._v(" "+t._s(t.playerTwoScore)+" ")])])])])]),s("div",{staticClass:"board"},t._l(t.game.board,(function(e,n){return s("div",{key:"row"+(n+1),staticClass:"row"},t._l(t.game.board[n],(function(e,a){return s("div",{key:"row"+(n+1)+"col"+(a+1),staticClass:"cell",class:{"has-text-primary has-text-weight-medium":t.isLastMove("row"+(n+1)+"col"+(a+1)),"has-text-primary glowing":t.isHighlighted("row"+(n+1)+"col"+(a+1))},attrs:{id:"row"+(n+1)+"col"+(a+1)},on:{click:function(e){return t.confirmInput("row"+(n+1)+"col"+(a+1))}}},[s("transition-group",{attrs:{name:"fade"}},[s("span",{key:"row"+(n+1)+"col"+(a+1)},[t._v(t._s(t.game.board[n][a]))])])],1)})),0)})),0),s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"container has-text-centered mt-4 mb-2 status-message"},[s("div",[s("div",{staticClass:"pt-1",on:{click:t.handleClick}},[s("p",{staticClass:"title",class:{"has-text-primary":t.isEnded}},[t.isEnded?s("span",[t._v(t._s("draw"===t.result.outcome?"It's a draw":t.result.outcome.mark+" has won"))]):s("span",[t._v(t._s(t.game.currentPlayer.mark)+"'s turn")])]),s("p",{staticClass:"subtitle",class:{"has-text-primary":t.isEnded}},[t.isEnded?s("span",[t._v("Press here to play again")]):0===t.game.history.length?s("span",[t._v("Let's go")]):s("span",[t._v("Last move: "+t._s(t.game.history[t.game.history.length-1].player.mark)+" to ["+t._s(t.game.history[t.game.history.length-1].move[0]+1)+", "+t._s(t.game.history[t.game.history.length-1].move[1]+1)+"] ")])])])])])]),s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"container has-text-centered"},[s("button",{staticClass:"button is-info opt",on:{click:t.resetGame}},[t._v("Reset")]),s("button",{staticClass:"button is-danger opt",on:{click:t.closeGame}},[t._v(" Close ")]),t.isEnded?s("button",{staticClass:"button is-primary",on:{click:t.viewHistory}},[t._v("View History")]):t._e()])])],1)},$=[],U=(s("caad"),s("2532"),s("3835")),H={computed:Object(l["a"])({},Object(u["d"])({game:function(t){return t.localGame.instance},result:function(t){return t.history.result},isEnded:function(t){return t.localGame.instance.status.isEnded},playerOneScore:function(t){return t.localGame.playerOneScore},playerTwoScore:function(t){return t.localGame.playerTwoScore},playerOne:function(t){return t.localGame.instance.playerOne.cpu?"CPU#".concat(t.localGame.instance.playerOne.difficulty):"Player"},playerTwo:function(t){return t.localGame.instance.playerTwo.cpu?"CPU#".concat(t.localGame.instance.playerTwo.difficulty):"Player"}})),created:function(){var t=this;this.newGame(),this.unwatchGameStatus=this.$watch("isEnded",(function(e){console.log("updating isEnded to ".concat(e)),console.log(t.game.status),console.log(t.game.history),e&&t.endRound()}))},beforeDestroy:function(){console.log("** calling unwatchGameStatus **"),this.unwatchGameStatus()},data:function(){return{historyObj:{},processingInput:!1}},methods:{newGame:function(){this.$store.commit("NEW_GAME")},isHighlighted:function(t){return this.$store.state.localGame.instance.status.winCondition.includes(t)},isLastMove:function(t){if(this.game.currentMove){var e=Object(U["a"])(this.game.currentMove,2),s=e[0],n=e[1];return this.game.gridReference[s][n]===t}},viewHistory:function(){this.$store.commit("VIEW_HISTORY")},endRound:function(){this.historyObj.history=this.history,this.historyObj.outcome=this.game.status.draw?"draw":this.game.currentPlayer,this.historyObj.winCondition=this.game.status.winCondition,this.historyObj.board=this.game.board,this.$store.commit("SAVE_RESULT",this.historyObj),this.$store.commit("SAVE_HISTORY",this.game.history),this.$store.commit("SAVE_BOARD",this.game.board),this.$store.commit("CHANGE_STEP",this.game.status.turnCount-1),this.$store.commit("END_ROUND",this.game.status.draw?"draw":this.game.currentPlayer.mark)},resetGame:function(){this.$store.commit("RESET_GAME"),this.newGame()},closeGame:function(){this.$store.commit("RESET_GAME"),this.$store.commit("CLOSE_GAME")},confirmInput:function(t){console.log(t),!0!==this.processingInput&&(this.processingInput=!0,this.isEnded||this.game.confirmInput(t),this.processingInput=!1)},handleClick:function(){console.log("handleClick method"),this.isEnded&&this.newGame()}}},B=H,W=(s("2ba3"),Object(f["a"])(B,L,$,!1,null,"c7f92e50",null)),D=W.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero"},[s("div",{staticClass:"container"},[s("button",{staticClass:"button mt-4 is-medium is-primary",on:{click:t.startGame}},[t._v(" Start Game ")])])])},Y=[],J={methods:{startGame:function(){this.$store.commit("START_GAME")}}},q=J,K=Object(f["a"])(q,V,Y,!1,null,null,null),X=K.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container has-text-centered tictactoe"},[s("h1",{staticClass:"title"},[t._v("HISTORY MODE")]),s("div",{staticClass:"notification is-primary"},[s("p",[t._v("Winner: "+t._s(t.result.outcome.mark))]),s("p",[t._v("Turns: "+t._s(t.history.length))]),s("p",[t._v(" Player: "+t._s(t.result.outcome.cpu?"CPU#"+t.result.outcome.difficulty:"Local Player")+" ")])]),s("div",{staticClass:"board mb-4"},t._l(t.board,(function(e,n){return s("div",{key:n,staticClass:"row",attrs:{id:"row"+(n+1)}},t._l(t.board[n],(function(e,a){return s("div",{key:"row"+(n+1)+"col"+(a+1),staticClass:"cell",class:{"has-text-primary glowing":t.isHighlighted("row"+(n+1)+"col"+(a+1))},attrs:{id:"row"+(n+1)+"col"+(a+1)}},[s("transition",{attrs:{name:"fade"}},[s("span",[t._v(t._s(t.board[n][a]))])])],1)})),0)})),0),s("b-steps",{attrs:{animated:"",rounded:"","has-navigation":""},model:{value:t.activeStep,callback:function(e){t.activeStep=e},expression:"activeStep"}},[t._l(t.history,(function(t,e){return[s("b-step-item",{key:"turn"+(e+1),attrs:{step:e+1,clickable:!0}})]}))],2),s("h2",{staticClass:"subtitle"},[t._v(" "+t._s(t.history[t.activeStep].player.mark)+" on "+t._s(t.history[t.activeStep].move)+" ")]),s("button",{staticClass:"button is-danger opt",on:{click:t.closeHistory}},[t._v(" Close ")])],1)},F=[],Q={computed:Object(l["a"])(Object(l["a"])({},Object(u["d"])({history:function(t){return t.history.instance},result:function(t){return t.history.result},board:function(t){return t.history.board}})),{},{activeStep:{get:function(){return this.$store.state.history.step},set:function(t){this.$store.commit("CHANGE_STEP",t),console.log("CHANGE_HISTORY_BOARD",t),console.log("history value",this.history[t]),this.$store.commit("CHANGE_HISTORY_BOARD",this.history[t])}}}),methods:{isHighlighted:function(t){return this.activeStep+1===this.history.length&&this.result.winCondition.includes(t)},changeStep:function(){},closeHistory:function(){this.$store.commit("CLOSE_HISTORY")}}},Z=Q,tt=(s("1fad"),Object(f["a"])(Z,z,F,!1,null,"5b915874",null)),et=tt.exports,st={computed:Object(l["a"])({},Object(u["d"])({localGame:function(t){return t.localGame.isActive},historyView:function(t){return t.history.isActive}})),components:{Options:G,TicTacToe:D,Start:X,History:et}},nt=st,at=Object(f["a"])(nt,x,R,!1,null,null,null),it=at.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Rankings")]),s("Search",{on:{"search-string":t.search}}),t._l(t.playerList,(function(t){return s("PlayerCard",{key:t._id,attrs:{player:t}})}))],2)])},rt=[],ct=(s("ac1f"),s("841c"),s("96cf"),s("1da1")),lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card notification is-info"},[s("div",{staticClass:"card-content"},[s("h1",{staticClass:"title"},[t._v("Player Card")]),s("p",{staticClass:"is-size-5"},[t._v(" Name: "),s("span",[t._v(t._s(t.player.username?t.player.username:t.player))])]),s("p",{staticClass:"is-size-5"},[t._v(" Games played: "),s("span",[t._v(t._s(t.player.gamesPlayed?t.player.gamesPlayed:"N/A"))])]),s("p",{staticClass:"is-size-5"},[t._v(" ELO: "),s("span",[t._v(t._s(t.player.rating?t.player.rating:"N/A"))])]),t._m(0)])])},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"card-footer"},[s("button",{staticClass:"button is-link mt-2"},[t._v("Challenge")])])}],ht={props:{player:[Object,String,Array]}},dt=ht,mt=(s("58d3"),Object(f["a"])(dt,lt,ut,!1,null,"a619fd4e",null)),pt=mt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card notification is-info"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-text-white"},[t._v("Name: "+t._s(t.test))]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.test,expression:"test"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.test},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendRequest(e)},input:function(e){e.target.composing||(t.test=e.target.value)}}})]),s("button",{staticClass:"button is-link mt-2",on:{click:t.sendRequest}},[t._v("Search")])])])])},vt=[],gt={data:function(){return{test:""}},methods:{sendRequest:function(){this.$emit("search-string",this.test)}}},yt=gt,bt=(s("3a4c"),Object(f["a"])(yt,ft,vt,!1,null,"88ba054e",null)),_t=bt.exports,Ct=(s("b0c0"),s("d3b7"),s("bc3a")),Ot=s.n(Ct),wt="";Ot.a.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&console.log("logout...."),Promise.reject(t)}));var kt=Ot.a.create({baseURL:wt,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),Et={getUsers:function(){return kt.get("/api/user")},getUser:function(t){return kt.get("/api/user/"+t)},registerUser:function(t){return kt.post("/api/auth/register",{username:t.name,email:t.email,password:t.password})},loginUser:function(t){return console.log("loginUser - API-interface"),Ot.a.post("/api/auth/login",{username:t.name,password:t.password})},search:function(t){return kt.get("/api/user/search/"+t)},testJWT:function(t){var e=Ot.a.create({baseURL:wt,withCredentials:!1,headers:{Authorization:t,Accept:"application/json","Content-Type":"application/json"}});return e.get("/api/user/posts")},testJWT2:function(t){return kt.defaults.headers.common["Authorization"]=t,kt.get("/api/user/posts")}},St={components:{PlayerCard:pt,Search:_t},computed:{searchArray:function(){return this.$store.state.searchArray}},data:function(){return{playerList:[]}},created:function(){var t=this;0===this.searchArray.length||void 0===this.searchArray?Et.getUsers().then((function(e){return t.playerList=e.data})).catch((function(t){return console.log(t)})):this.playerList=this.searchArray},methods:{search:function(t){var e=this;return Object(ct["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log("searching for: ",t),console.log("store data: ",e.searchArray),""===t?Et.getUsers().then((function(t){e.playerList=t.data,e.updateSearchArray()})).catch((function(t){return console.log(t)})):Et.search(t).then((function(t){e.playerList=t.data,e.updateSearchArray()})).catch((function(t){return console.log(t)}));case 3:case"end":return s.stop()}}),s)})))()},updateSearchArray:function(){console.log("trying to update searchArray store with: ",this.playerList),this.$store.commit("rememberSearchResults",this.playerList)}}},Tt=St,At=(s("9c55"),Object(f["a"])(Tt,ot,rt,!1,null,"3165fb7c",null)),xt=At.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-4 is-vertical is-parent"},[s("div",{staticClass:"tile is-child notification is-info"},[s("p",{staticClass:"title"},[t._v("Details")]),s("p",[t._v("Player Name: "),t.user?s("span",[t._v(t._s(t.user.name))]):t._e()]),s("p",[t._v("Games Played")]),s("p",[t._v("ELO rating")]),s("p",[t._v("Last Results")])]),s("div",{staticClass:"tile is-child notification is-dark"},[s("Settings")],1),s("div",{staticClass:"tile is-child notification is-danger"},[s("p",{staticClass:"title"},[t._v("Test")]),s("button",{on:{click:t.printUser}},[t._v("Print user")]),s("button",{on:{click:t.testJWT}},[t._v("TEST JWT")])])]),s("div",{staticClass:"tile is-8 is-parent"},[s("div",{staticClass:"tile is-child notification is-dark"},[s("Chat")],1)])])])},It=[],jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title"},[t._v("Settings")]),s("div",[s("b-switch",{attrs:{"left-label":!0,value:t.online,disabled:!t.loggedIn},on:{input:t.changeOnlineStatus}},[t._v("You are "+t._s(t.online?"online":"offline"))])],1),s("div",[s("b-switch",{attrs:{"left-label":!0,value:t.activeChat,disabled:!t.online},on:{input:t.changeChatStatus}},[t._v(t._s(t.activeChat?"Disable Chat":"Enable Chat"))])],1)])},Nt=[],Mt={data:function(){return{}},computed:Object(l["a"])({},Object(u["c"])("user",["loggedIn","online","messages"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["enableOnline","disableOnline","joinChat","leaveChat"])),{},{changeOnlineStatus:function(){this.online?this.disableOnline():this.enableOnline()},changeChatStatus:function(){this.activeChat?this.leaveChat():this.joinChat()}})},Pt=Mt,Gt=Object(f["a"])(Pt,jt,Nt,!1,null,null,null),Lt=Gt.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"title"},[t._v("Chat")]),t.activeChat?s("div",[s("div",{staticClass:"chat notification has-background-grey-dark"},t._l(t.socket.chat,(function(e,n){return s("div",{key:n,staticClass:"block"},[s("div",{staticClass:"has-background-primary has-text-white is-medium m-2"},[s("span",{staticClass:"has-text-weight-semibold"},[t._v(t._s(10>e.hour?"0"+e.hour:e.hour)+":"+t._s(10>e.minute?"0"+e.minute:e.minute)+" "+t._s(e.username)+": "+t._s(" "))]),s("span",[t._v(" "+t._s(e.text)+" ")]),s("span"),s("span")])])})),0),s("div",{staticClass:"field has-addons"},[s("button",{staticClass:"control button is-primary",on:{click:t.handleMessage}},[t._v("Send")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"control input",attrs:{type:"text"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleMessage(e)},input:function(e){e.target.composing||(t.message=e.target.value)}}})])]):t._e()])},Ut=[],Ht={data:function(){return{message:""}},computed:Object(u["c"])("user",["socket","activeChat","online"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["joinChat","leaveChat","sendMessage"])),{},{changeStatus:function(){this.activeChat?this.leaveChat():this.joinChat()},handleMessage:function(){""!==this.message&&(this.sendMessage(this.message),this.message="")}})},Bt=Ht,Wt=(s("6d2a"),Object(f["a"])(Bt,$t,Ut,!1,null,"12ea170a",null)),Dt=Wt.exports,Vt={components:{Settings:Lt,Chat:Dt},data:function(){return{socket:null,list:"hi",message:"Jabadabbadoo",messages:[]}},computed:Object(l["a"])({},Object(u["c"])("user",["user"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["testJWT","enableChat"])),{},{printUser:function(){console.log(this.user)}})},Yt=Vt,Jt=(s("566d"),Object(f["a"])(Yt,Rt,It,!1,null,"65d60606",null)),qt=Jt.exports;i["a"].use(O["a"]);var Kt=[{path:"/",component:A},{path:"/about",name:"about",component:A},{path:"/game",name:"game",component:it},{path:"/rankings",name:"rankings",component:xt,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:qt,meta:{requiresAuth:!0}},{path:"*",component:A}],Xt=new O["a"]({mode:"history",linkExactActiveClass:"is-active",routes:Kt});Xt.beforeEach((function(t,e,s){var n=localStorage.getItem("user");t.matched.some((function(t){return t.meta.requiresAuth}))&&!n?s("/"):s()}));var zt=Xt,Ft=(s("99af"),s("4de4"),s("4160"),s("a434"),s("a9e3"),s("159b"),s("d4ec")),Qt=s("bee2"),Zt=function(){function t(e){var s=e.playerOne,n=e.playerTwo,a=e.board,i=e.turnCount;Object(Ft["a"])(this,t);var o=[["","",""],["","",""],["","",""]];this.board=a||o,this.gridReference=[["row1col1","row1col2","row1col3"],["row2col1","row2col2","row2col3"],["row3col1","row3col2","row3col3"]],this.magicSquare=[[2,7,6],[9,5,1],[4,3,8]],this.playerOne=s,this.playerTwo=n,this.currentPlayer=this.playerOne.turn?this.playerOne:this.playerTwo,this.delay=1e3,this.history=[],this.currentMove=null,this.spamControl=!1,this.possibleMoves=[],this.status={turnCount:i||1,isEnded:!1,draw:!1,winCondition:[]},this.minimaxStatus={maxPlayer:null,minPlayer:null,startingPlayer:null},console.log("inside constructor, here is the board: ",this.board),console.log("here is the gridReference: ",this.gridReference),console.log("starting player is: ",this.startingPlayer),this.setStartingPlayer(),this.computerMove()}return Object(Qt["a"])(t,[{key:"setStartingPlayer",value:function(){var t="X"===this.currentPlayer.mark?"X":"O";this.minimaxStatus.startingPlayer=t}},{key:"getMark",value:function(){return this.currentPlayer===this.playerOne?this.playerOne.mark:this.playerTwo.mark}},{key:"getNextMark",value:function(){return this.currentPlayer===this.playerOne?this.playerTwo.mark:this.playerOne.mark}},{key:"checkStatus",value:function(){var t=this.board,e=this.getMark(),s=this.getNextMark();console.log("checkStatus function - mark: "+e+", nextMark: "+s),t[0][0]===e&&t[0][1]===e&&t[0][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][0],this.gridReference[0][1],this.gridReference[0][2]]):t[1][0]===e&&t[1][1]===e&&t[1][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[1][0],this.gridReference[1][1],this.gridReference[1][2]]):t[2][0]===e&&t[2][1]===e&&t[2][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[2][0],this.gridReference[2][1],this.gridReference[2][2]]):t[0][0]===e&&t[1][0]===e&&t[2][0]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][0],this.gridReference[1][0],this.gridReference[2][0]]):t[0][1]===e&&t[1][1]===e&&t[2][1]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][1],this.gridReference[1][1],this.gridReference[2][1]]):t[0][2]===e&&t[1][2]===e&&t[2][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][2],this.gridReference[1][2],this.gridReference[2][2]]):t[0][0]===e&&t[1][1]===e&&t[2][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][0],this.gridReference[1][1],this.gridReference[2][2]]):t[0][2]===e&&t[1][1]===e&&t[2][0]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][2],this.gridReference[1][1],this.gridReference[2][0]]):this.isDraw(this.getNextMark(),this.getMark(),this.status.turnCount,this.board)?(this.status.isEnded=!0,this.status.draw=!0):console.log("Game cannot be decided on turn ".concat(this.status.turnCount,"..."))}},{key:"isDraw",value:function(t,e,s,n){var a=this;if(s>=9)return!0;if(8===s)return!this.checkMagicSquare(this.cloneBoard(n),t);if(s<8&&s>4){var i=this.getAllCombinations(n),o=!0;return i.forEach((function(s){!1!==o&&(a.checkWinCondition(s,t)||a.checkWinCondition(s,e))&&(o=!1)})),o}return!1}},{key:"getAllCombinations",value:function(t){var e=this,s=this.getAvaliableMoves(t),n=function(t){if(t<0)return null;if(0===t||1===t)return 1;for(var e=t-1;e>=1;e--)t*=e;return t},a=null;a=2===s.length?2:n(s.length)/(2*n(s.length-2)),console.log("possible outcomes: ",a);for(var i=new Array(a),o=0;o<i.length;o++)i[o]=new Array(s.length);var r=[],c=function(){function t(e,s,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];Object(Ft["a"])(this,t),this.mark=e,this.index=s,this.depth=a,this.indexArray=n,this.children=o,this.parent=i,this.generateOptions(),this.writeOptions()}return Object(Qt["a"])(t,[{key:"generateOptions",value:function(){var e=this;if(0!==this.indexArray.length)if(1!==this.indexArray.length)this.indexArray.forEach((function(s){var n=e.indexArray.filter((function(t){return t!==s})),a=new t("X"===e.mark?"O":"X",s,n,e.depth+1,e);e.children.push(a)}));else{var s=new t("X"===this.mark?"O":"X",this.indexArray[0],[],this.depth+1,this);this.children.push(s)}}},{key:"writeOptions",value:function(){if(this.depth===s.length){var t=new Array(s.length);t[this.index]=this.mark,r.push(t);var e=this.parent,n=s.length;do{t[e.index]=e.mark,e=this.getParent(e),n-=1}while(n>1)}}},{key:"getParent",value:function(t){return t.parent}}]),t}(),l=function(){function t(e,s){Object(Ft["a"])(this,t),this.levels=e,this.mark=s,this.children=[]}return Object(Qt["a"])(t,[{key:"createMainBranches",value:function(){for(var t=this,e=[],s=0;s<this.levels;s++)e.push(s);for(var n=function(s){var n=e.filter((function(t){return t!==s}));console.log("iteration ".concat(s,", currentIndex ").concat(s,", rest ").concat(n));var a=new c(t.mark,s,n,1);console.log("created new node: ",a),t.children.push(a)},a=0;a<this.levels;a++)n(a)}}]),t}(),u=function(t,e){for(var s=0;s<t.length;s++){for(var n=!1,a=0;a<t[s].length;a++){if(t[s][a]!==e[a]){n=!1;break}n=!0}if(n)return!0}return!1},h=new l(s.length,this.getNextMark());h.createMainBranches(),console.log("answer:"),console.log(r);var d=[];r.forEach((function(t){d.length!==a&&(u(d,t)||d.push(t))})),console.log("filtered answer:"),console.log(d),console.log("avaliableSpaces:"),console.log(s);var m=[];return d.forEach((function(n){for(var a=e.cloneBoard(t),i=0;i<n.length;i++){var o=Object(U["a"])(s[i],2),r=o[0],c=o[1];a[r][c]=n[i]}m.push(a)})),console.log("returnArr:"),console.log(m),m}},{key:"cloneBoard",value:function(t){for(var e=new Array(3),s=0;s<e.length;s++)e[s]=new Array(3);for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)e[n][a]=t[n][a];return e}},{key:"checkMagicSquare",value:function(t,e){console.log("checkMagicSquare function..."),console.log("mark: ",e),console.log("testBoard"),console.log(t);for(var s=0;s<t.length;s++)for(var n=0;n<t[s].length;n++)t[s][n]===e||""===t[s][n]?t[s][n]=this.magicSquare[s][n]:t[s][n]=0;return t[0][0]+t[0][1]+t[0][2]===15||(t[1][0]+t[1][1]+t[1][2]===15||(t[2][0]+t[2][1]+t[2][2]===15||(t[0][0]+t[1][0]+t[2][0]===15||(t[0][1]+t[1][1]+t[2][1]===15||(t[0][2]+t[1][2]+t[2][2]===15||(t[0][0]+t[1][1]+t[2][2]===15||t[2][0]+t[1][1]+t[0][2]===15))))))}},{key:"checkWinCondition",value:function(t,e){var s=!1;return(t[0][0]===e&&t[0][1]===e&&t[0][2]===e||t[1][0]===e&&t[1][1]===e&&t[1][2]===e||t[2][0]===e&&t[2][1]===e&&t[2][2]===e||t[0][0]===e&&t[1][0]===e&&t[2][0]===e||t[0][1]===e&&t[1][1]===e&&t[2][1]===e||t[0][2]===e&&t[1][2]===e&&t[2][2]===e||t[0][0]===e&&t[1][1]===e&&t[2][2]===e||t[0][2]===e&&t[1][1]===e&&t[2][0]===e)&&(s=!0),s}},{key:"getAvaliableMoves",value:function(t){for(var e=new Array(0),s=0;s<t.length;s++)for(var n=0;n<t[s].length;n++)this.validInput(t,[s,n])&&e.push([s,n]);return console.log("avaliable moves: ",e),e}},{key:"validInput",value:function(t,e){var s=Object(U["a"])(e,2),n=s[0],a=s[1];return""===t[n][a]}},{key:"confirmInput",value:function(t){var e=this.getIndex(t);!this.validInput(this.board,e)||this.currentPlayer.cpu||this.spamControl||(this.spamControl=!0,this.updateBoard(e),this.nextIteration(),this.computerMove()),this.spamControl=!1}},{key:"getIndex",value:function(t){for(var e=0;e<this.gridReference.length;e++)for(var s=0;s<this.gridReference[e].length;s++)if(t===this.gridReference[e][s])return[e,s]}},{key:"computerRandomChoice",value:function(){console.log("I'm making a random choice");var t=!1,e=0,s=0;while(!t)e=Math.floor(Math.random()*this.board.length),s=Math.floor(Math.random()*this.board[e].length),this.validInput(this.board,[e,s])&&(t=!0);return console.log("I have chosen ",e," and ",s),[e,s]}},{key:"computerBlockOrWin",value:function(){console.log("computerBlockOrWin function");var t=this.getMark(),e=this.getAvaliableMoves(this.board),s=0;while(s<e.length){var n=new Array(0);console.log("board after creation with new Array(0)"),console.log(n),n=this.cloneBoard(this.board),console.log(n);var a=Object(U["a"])(e[s],2),i=a[0],o=a[1];if(n[i][o]=t,console.log("printing board from while loop in computerBlockOrWin function - checking potential win"),console.log(n),this.checkWinCondition(n,t))return console.log("I have found a win condition on ".concat(e[s]," and will win on this round")),e[s];s+=1}console.log("I have not found any win condtions and will now check to prevent a loss");var r=this.getNextMark();s=0;while(s<e.length){var c=new Array(0);console.log("board after creation with new Array(0)"),console.log(c),c=this.cloneBoard(this.board),console.log(c);var l=Object(U["a"])(e[s],2),u=l[0],h=l[1];if(c[u][h]=r,console.log("printing board from while loop in computerBlockOrWin function - checking potential loss"),console.log(c),this.checkWinCondition(c,r))return console.log("I have found a loss condition on ".concat(e[s]," and will block this move")),e[s];s+=1}return console.log("I have not found any win or loss condition - returning false"),!1}},{key:"createMinimaxPlayers",value:function(t,e){this.minimaxStatus.maxPlayer=t,this.minimaxStatus.minPlayer=e}},{key:"bestMove",value:function(t,e){if(e>4){if(1===this.status.turnCount){var s=[[0,0],[0,2],[2,0],[2,2]];return s[Math.floor(3*Math.random())]}if(2===this.status.turnCount&&""===this.board[1][1])return[1,1]}this.createMinimaxPlayers(t,"X"===t?"O":"X");for(var n=Number.NEGATIVE_INFINITY,a=this.getAvaliableMoves(this.board),i=null,o=this.status.turnCount+1,r=0;r<a.length;r++){var c=Object(U["a"])(a[r],2),l=c[0],u=c[1],h=this.cloneBoard(this.board);h[l][u]=this.minimaxStatus.maxPlayer;var d=this.minimax(h,e,!1,o);d>n&&(n=d,i=[l,u])}return i}},{key:"getScore",value:function(t,e){console.log("getScore",t,e);var s=!1,n=0;return this.checkWinCondition(t,this.minimaxStatus.minPlayer)&&(n=-1e3,s=!0),this.checkWinCondition(t,this.minimaxStatus.maxPlayer)&&(n=1e3,s=!0),9===e&&(s=!0),{score:n,ended:s}}},{key:"minimax",value:function(t,e,s,n){console.log("minimax, ",t,e,s,n);var a=this.getScore(t,n);if(0===e||a.ended)return a.score/n;if(s){for(var i=Number.NEGATIVE_INFINITY,o=this.getAvaliableMoves(t),r=n+1,c=0;c<o.length;c++){var l=Object(U["a"])(o[c],2),u=l[0],h=l[1],d=this.cloneBoard(t);d[u][h]=this.minimaxStatus.maxPlayer;var m=this.minimax(d,e-1,!1,r);i=Math.max(i,m)}return i}for(var p=Number.POSITIVE_INFINITY,f=this.getAvaliableMoves(t),v=n+1,g=0;g<f.length;g++){var y=Object(U["a"])(f[g],2),b=y[0],_=y[1],C=this.cloneBoard(t);C[b][_]=this.minimaxStatus.minPlayer;var O=this.minimax(C,e-1,!0,v);p=Math.min(p,O)}return p}},{key:"computerChoice",value:function(){console.log("computerChoice function - I'm making a choice based on my difficulty setting, which is ",this.currentPlayer.difficulty);var t=null;switch(this.currentPlayer.difficulty){case 0:t=this.computerRandomChoice();break;case 1:t=this.computerBlockOrWin(),t||(t=this.computerRandomChoice());break;case 2:t=this.bestMove(this.getMark(),2);break;case 3:t=this.bestMove(this.getMark(),10);break;default:t=this.computerRandomChoice()}return console.log("I have chosen, ",t),t}},{key:"computerMove",value:function(){var t=Object(ct["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.status.isEnded){t.next=2;break}return t.abrupt("return");case 2:if(this.playerOne.cpu||!this.playerOne.turn){t.next=4;break}return t.abrupt("return");case 4:if(this.playerTwo.cpu||!this.playerTwo.turn){t.next=6;break}return t.abrupt("return");case 6:return console.log("before delay"),t.next=9,new Promise((function(t){return setTimeout(t,e.delay)}));case 9:console.log("after delay"),(this.playerOne.cpu&&this.playerOne.turn||this.playerTwo.cpu&&this.playerTwo.turn)&&(this.updateBoard(this.computerChoice()),this.nextIteration()),this.playerOne.cpu&&this.playerTwo.cpu&&this.computerMove();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateBoard",value:function(t){this.currentMove=t;var e=Object(U["a"])(t,2),s=e[0],n=e[1];this.board[s].splice(n,1,this.getMark())}},{key:"nextIteration",value:function(){console.log("nextiteration - starting player is: ",this.startingPlayer),this.addHistory(),this.status.isEnded||(this.checkStatus(),this.status.isEnded||this.newTurn())}},{key:"newTurn",value:function(){this.status.turnCount+=1,this.playerOne.turn=!this.playerOne.turn,this.playerTwo.turn=!this.playerTwo.turn,this.currentPlayer=this.playerOne.turn?this.playerOne:this.playerTwo}},{key:"returnWinCondition",value:function(){return this.status.winCondition}},{key:"addHistory",value:function(){this.history.push({turn:this.status.turnCount,move:this.currentMove,player:this.currentPlayer})}}]),t}(),te=!0,ee={notifications:[],nextId:1},se={PUSH:function(t,e){t.notifications.push(Object(l["a"])(Object(l["a"])({},e),{},{id:t.nextId})),t.nextId=t.nextId+1},DELETE:function(t,e){t.notifications=t.notifications.filter((function(t){return t.id!==e.id}))}},ne={add:function(t,e){var s=t.commit;s("PUSH",e)},remove:function(t,e){var s=t.commit;s("DELETE",e)}},ae=s("8055"),ie=s.n(ae),oe="",re=function(){function t(e){Object(Ft["a"])(this,t),this.user=e,this.socket=ie()(oe),this.chat=[],this.initSocket()}return Object(Qt["a"])(t,[{key:"initSocket",value:function(){var t=this;this.socket.on("connect",(function(){console.log("socket.io connected"),console.log("socket id: ",t.socket.id)})),this.socket.on("message",(function(e){var s=t.chat.length;t.chat.push(""),t.chat.splice(s,1,e)}))}},{key:"joinChat",value:function(){console.log("joinchat function"),console.log(this.user),this.socket.emit("joinChat",{username:this.user.name})}},{key:"leaveChat",value:function(){this.socket.emit("leaveChat")}},{key:"sendMessage",value:function(t){this.socket.emit("sendMessage",t)}}]),t}(),ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v(" "+t._s(t.login?"Login":"Register")+" ")]),s("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}})]),s("section",{staticClass:"modal-card-body"},[s("b-field",{attrs:{label:"Username"}},[s("b-input",{attrs:{placeholder:"Your username",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("b-field",{attrs:{label:"Password"}},[s("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.login?t._e():s("b-checkbox",{model:{value:t.terms,callback:function(e){t.terms=e},expression:"terms"}},[t._v("By registering you accept that this app saves data to localstorage")])],1),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.verifyRequest}},[t._v(" "+t._s(t.login?"Login":"Register")+" ")]),s("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){t.login=!t.login}}},[t._v(" "+t._s(t.login?"Not registered? Please register":"Already got an account? Please log in")+" ")])])])},le=[],ue={data:function(){return{login:!0,name:"",password:"",terms:!1,data:{name:"",password:""}}},computed:Object(l["a"])({},Object(u["c"])("user",["modalActive","loggedIn"])),methods:{verifyRequest:function(){this.login||this.terms?""===this.name&&""===this.password||""===this.name&&""!==this.password||""===this.password&&""!==this.name||(this.data.name=this.name,this.data.password=this.password,console.log("data added"),this.login?this.emitLogin(this.data):this.emitRegister(this.data)):console.log("Please accept terms to register an account")},emitLogin:function(){this.$emit("logIn",this.data)},emitRegister:function(){this.$emit("register",this.data)}}},he=ue,de=Object(f["a"])(he,ce,le,!1,null,null,null),me=de.exports,pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v(" "+t._s(t.login?"Login":"Register")+" ")]),s("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}})]),s("section",{staticClass:"modal-card-body"},[s("b-field",{attrs:{label:"Username"}},[s("b-input",{attrs:{value:t.name,placeholder:"Your username",required:""}})],1),s("b-field",{attrs:{label:"Password"}},[s("b-input",{attrs:{type:"password",value:t.password,"password-reveal":"",placeholder:"Your password",required:""}},[s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fas fa-lock"})]),""!==t.password?s("span",{staticClass:"icon is-small is-right"},[s("i",{staticClass:"fas fa-check"})]):t._e()])],1),s("b-checkbox",[t._v("Remember me/Accept cookie policy")])],1),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Close ")]),s("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.test}},[t._v(" "+t._s(t.login?"Login":"Register")+" ")]),s("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){t.login=!t.login}}},[t._v(" "+t._s(t.login?"Not registered? Please register":"Already got an account? Please log in")+" ")])])])},fe=[],ve={},ge=Object(f["a"])(ve,pe,fe,!1,null,null,null),ye=ge.exports,be=s("61b7"),_e=!0,Ce={user:null,modal:{show:!1,resolve:null},multiplayer:{show:!1,resolve:null},online:!1,messages:null,socket:null,activeChat:!1},Oe={SET_NEW_USER:function(t){t.user={}},SET_USER_TOKEN:function(t,e){t.user.token=e.token,t.user.expiresIn=e.expiresIn},SET_USER_NAME:function(t,e){t.user.name=e},SET_USER_LOCALSTORAGE:function(t){localStorage.setItem("user",JSON.stringify(t.user))},SET_USER_DATA:function(t,e){t.user=e},CLEAR_USER_LOCALSTORAGE:function(){localStorage.removeItem("user"),location.reload()},SHOW_LOGIN:function(t){var e=this;t.modal.instance=be["a"].open({parent:this.parent,component:me,hasModalCard:!0,customClass:"custom-class custom-class-2",trapFocus:!0,events:{logIn:function(t){console.log(t),e.dispatch("user/logIn",t)},register:function(t){console.log(t),e.dispatch("user/register",t)}}})},HIDE_LOGIN:function(t){console.log("hiding modal..."),t.modal.instance.close()},SHOW_MULTIPLAYER:function(t){var e=this;t.multiplayer.instance=be["a"].open({parent:this.parent,component:ye,trapFocus:!0,canCancel:!1,events:{makeMove:function(t){console.log(t),e.dispatch("user/makeMove",t)},cancelGame:function(){e.dispatch("cancelGame")}}})},ENABLE_ONLINE:function(t){t.online=!0},DISABLE_ONLINE:function(t){t.online=!1},OPEN_SOCKET_CONNECTION:function(t){t.socket=new re(t.user)},CLOSE_SOCKET_CONNECTION:function(t){t.socket=null},JOIN_CHAT:function(t){t.socket.joinChat(),t.activeChat=!0},LEAVE_CHAT:function(t){t.socket.leaveChat(),t.activeChat=!1},SEND_MESSAGE:function(t,e){t.socket.sendMessage(e)}},we={logIn:function(t,e){var s=t.commit;Et.loginUser(e).then((function(t){console.log(e),console.log(t.data),s("SET_NEW_USER"),s("SET_USER_NAME",e.name),s("SET_USER_TOKEN",t.data),s("SET_USER_LOCALSTORAGE"),s("HIDE_LOGIN")})).catch((function(t){return console.log(t)}))},logOut:function(t){var e=t.commit;console.log("trying to log out..."),e("CLEAR_USER_LOCALSTORAGE")},register:function(t,e){var s=t.commit;Et.registerUser(e).then((function(t){console.log(e),console.log(t.data),s("SET_NEW_USER"),s("SET_USER_NAME",e.name),s("SET_USER_TOKEN",t.data),s("SET_USER_LOCALSTORAGE"),s("HIDE_LOGIN")})).catch((function(t){return console.log(t)}))},setUser:function(t,e){var s=t.commit;s("SET_USER_DATA",e)},showModal:function(t){var e=t.commit;e("SHOW_MODAL")},hideModal:function(t){var e=t.commit;e("HIDE_MODAL")},openModal:function(t){var e=t.commit;e("SHOW_LOGIN")},enableOnline:function(t){var e=t.commit;e("ENABLE_ONLINE"),e("OPEN_SOCKET_CONNECTION")},disableOnline:function(t){var e=t.commit;e("LEAVE_CHAT"),e("DISABLE_ONLINE"),e("CLOSE_SOCKET_CONNECTION")},testJWT:function(t){Et.testJWT2(Ce.user.token).then((function(t){console.log(t)})).catch((function(e){console.log("there was an error...",e),401===e.response.status&&t.dispatch("logOut")}))},joinChat:function(t){var e=t.commit;e("JOIN_CHAT")},leaveChat:function(t){var e=t.commit;e("LEAVE_CHAT")},sendMessage:function(t,e){var s=t.commit;console.log("sending message ",e),s("SEND_MESSAGE",e)}},ke={loggedIn:function(t){return!!t.user},modalActive:function(t){return t.modal.show},online:function(t){return t.online},messages:function(t){return t.messages},user:function(t){return t.user},socket:function(t){return t.socket},activeChat:function(t){return t.activeChat}};i["a"].use(u["a"]);var Ee=new u["a"].Store({modules:{user:a,notification:n},state:{showNav:!1,searchArray:[],localGameOptions:{playerOne:{cpu:!0,difficulty:0,turn:!0,mark:"X"},playerTwo:{cpu:!1,difficulty:0,turn:!1,mark:"O"}},localGame:{isActive:!1,instance:null,playerOneScore:0,playerTwoScore:0,round:0},history:{isActive:!1,instance:null,result:null,board:null,step:0}},mutations:{CLICK_NAV:function(t){!1===t.showNav?t.showNav=!0:!0===t.showNav&&(t.showNav=!1)},CLICK_LINK:function(t){t.showNav=!1},UPDATE_PLAYER_ONE:function(t,e){t.localGameOptions.playerOne.cpu,t.localGameOptions.playerOne.cpu,e&&(t.localGameOptions.playerOne.difficulty=e)},UPDATE_PLAYER_TWO:function(t,e){t.localGameOptions.playerTwo.cpu,t.localGameOptions.playerTwo.cpu,e&&(t.localGameOptions.playerTwo.difficulty=e)},rememberSearchResults:function(t,e){t.searchArray=e},NEW_GAME:function(t){t.localGame.instance=new Zt(t.localGameOptions)},SAVE_HISTORY:function(t,e){t.history.instance=e},SAVE_RESULT:function(t,e){t.history.result=e},SAVE_BOARD:function(t,e){t.history.board=e},CHANGE_STEP:function(t,e){t.history.step=e},CHANGE_HISTORY_BOARD:function(t,e){t.history.board=[["","",""],["","",""],["","",""]];for(var s=0;s<e.turn;s++){console.log("state move:"),console.log(t.history.instance[s].move),console.log("state move: "),console.log(t.history.instance[s].player.mark);var n=Object(U["a"])(t.history.instance[s].move,2),a=n[0],i=n[1];console.log(a,i),t.history.board[a][i]=t.history.instance[s].player.mark}},END_ROUND:function(t,e){t.localGameOptions.playerOne.turn=!t.localGameOptions.playerOne.turn,t.localGameOptions.playerTwo.turn=!t.localGameOptions.playerTwo.turn,t.localGame.round+=1,"draw"!==e&&("X"===e?t.localGame.playerOneScore+=1:t.localGame.playerTwoScore+=1)},RESET_GAME:function(t){t.localGameOptions.playerOne.turn=!0,t.localGameOptions.playerTwo.turn=!1,t.localGame.playerOneScore=0,t.localGame.playerTwoScore=0},CLOSE_GAME:function(t){t.localGame.isActive=!1},START_GAME:function(t){t.localGame.isActive=!0},VIEW_HISTORY:function(t){t.history.isActive=!0},CLOSE_HISTORY:function(t){t.history.isActive=!1}},actions:{register:function(t,e){var s=t.data;return console.log("trying to submit: ",s,e)}},getters:{loggedIn:function(t){return!!t.user}}});s("5abe");i["a"].config.productionTip=!1,i["a"].use(o["a"]),new i["a"]({router:zt,store:Ee,render:function(t){return t(C)}}).$mount("#app")},"57dd":function(t,e,s){},"58d3":function(t,e,s){"use strict";var n=s("f145"),a=s.n(n);a.a},"5c0b":function(t,e,s){"use strict";var n=s("9c0c"),a=s.n(n);a.a},"5d4b":function(t,e,s){},6318:function(t,e,s){"use strict";var n=s("c300"),a=s.n(n);a.a},"6d2a":function(t,e,s){"use strict";var n=s("a232"),a=s.n(n);a.a},7054:function(t,e,s){},"86e0":function(t,e,s){"use strict";var n=s("f1c0"),a=s.n(n);a.a},9155:function(t,e,s){},"9c0c":function(t,e,s){},"9c55":function(t,e,s){"use strict";var n=s("9155"),a=s.n(n);a.a},a232:function(t,e,s){},c300:function(t,e,s){},c87a:function(t,e,s){"use strict";var n=s("fd53"),a=s.n(n);a.a},f145:function(t,e,s){},f1c0:function(t,e,s){},fd53:function(t,e,s){}});
//# sourceMappingURL=app.6c69a847.js.map