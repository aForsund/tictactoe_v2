(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"1fad":function(t,e,n){"use strict";var s=n("7054"),i=n.n(s);i.a},2981:function(t,e,n){"use strict";var s=n("6c28"),i=n.n(s);i.a},"3a4c":function(t,e,n){"use strict";var s=n("57dd"),i=n.n(s);i.a},5339:function(t,e,n){},"566d":function(t,e,n){"use strict";var s=n("5339"),i=n.n(s);i.a},"56d7":function(t,e,n){"use strict";n.r(e);var s={};n.r(s),n.d(s,"namespaced",(function(){return ne})),n.d(s,"state",(function(){return se})),n.d(s,"mutations",(function(){return ie})),n.d(s,"actions",(function(){return ae}));var i={};n.r(i),n.d(i,"namespaced",(function(){return _e})),n.d(i,"state",(function(){return Ce})),n.d(i,"mutations",(function(){return Oe})),n.d(i,"actions",(function(){return we})),n.d(i,"getters",(function(){return ke}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("289d"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"hero is-dark is-fullheight is-bold",attrs:{id:"app"}},[n("div",{staticClass:"hero-head"},[n("NavBar")],1),n("div",{staticClass:"hero-body"},[n("router-view")],1),t._m(0)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero-foot has-text-right"},[n("span",[n("a",{attrs:{href:"https://bulma.io"}},[n("img",{attrs:{src:"https://bulma.io/images/made-with-bulma--white.png",alt:"Made with Bulma",width:"128",height:"24"}})])])])}],l=(n("d3b7"),n("5530")),u=n("2f62"),h=n("bc3a"),d=n.n(h),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar is-dark is-unselectable",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"},[t._m(0),n("div",{staticClass:"navbar-burger",class:{"is-active":t.getNavStatus},attrs:{"data-target":"navMenu","aria-label":"menu","aria-expanded":"false"},on:{click:t.clickBurger}},[n("span"),n("span"),n("span")])]),n("div",{staticClass:"navbar-menu",class:{"is-active":t.getNavStatus},attrs:{id:"navMenu"}},[n("div",{staticClass:"navbar-end",on:{click:t.disableNav}},[n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"about"}},on:{click:t.disableNav}},[t._v("About")]),n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"game"}},on:{click:t.disableNav}},[t._v("Local Game")]),n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"rankings"}},on:{click:t.disableNav}},[t._v("Rankings")]),t.loggedIn?n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"dashboard"}},on:{click:t.disableNav}},[t._v("Dashboard")]):t._e(),n("span",{staticClass:"navbar-item"},[t.loggedIn?n("div",{staticClass:"button is-primary has-text-weight-semibold",on:{click:t.logOut}},[t._v(" Log Out ")]):n("div",{staticClass:"button is-primary has-text-weight-semibold",on:{click:t.openModal}},[t._v(" Log In ")])])],1)])])])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"navbar-item"},[n("p",{staticClass:"has-text-weight-bold is-size-4 has-text-primary is-absolute"},[t._v(" Tic Tac Toe ")])])}],f={computed:Object(l["a"])(Object(l["a"])({},Object(u["c"])("user",["loggedIn","online","messages"])),{},{getNavStatus:function(){return this.$store.state.showNav}}),data:function(){return{showNav:!1,navStatus:{burgerOpen:!1}}},methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["openModal","logOut"])),{},{clickBurger:function(){this.$store.commit("CLICK_NAV")},disableNav:function(){this.$store.commit("CLICK_LINK")}})},v=f,g=(n("653c"),n("2877")),y=Object(g["a"])(v,m,p,!1,null,"018bcbb2",null),b=y.exports,_={data:function(){return{userString:null}},components:{NavBar:b},methods:Object(l["a"])({},Object(u["b"])("user",["setUser","logOut","testJWT"])),created:function(){var t=this;d.a.interceptors.response.use((function(t){return t}),(function(e){return 401===e.response.status&&t.logOut(),Promise.reject(e)})),this.userString=localStorage.getItem("user"),this.userString&&(console.log("userString",this.userString),this.setUser(JSON.parse(this.userString)),this.testJWT())}},C=_,O=(n("5c0b"),Object(g["a"])(C,o,c,!1,null,null,null)),w=O.exports,k=(n("45fc"),n("8c4f")),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",{staticClass:"title"},[t._v("Tic Tac Toe")]),n("div",{staticClass:"columns is-variable is-multiline is-3"},[n("div",{staticClass:"column is-8"},[n("div",{staticClass:"notification is-dark content"},[n("h3",{staticClass:"subtitle"},[t._v("About")]),n("p",[t._v(" This is a demo project of a tic tac toe game, with computer vs computer mode. ")]),n("p",[t._v(" This app is built with Vue.js and Buefy component library, and styled with Bulma CSS framework. App is served by express with API interface and mongoDB. ")]),n("p",[t._v("Please visit the GitHub repository to view the source code.")]),t.loggedIn?t._e():n("p",[t._v(" Please log in or create an account to see the functionality of this project. ")]),n("div",{staticClass:"mt-4"},[n("a",{staticClass:"button is-primary",attrs:{href:"https://github.com/aForsund/tictactoe_v2"}},[t._v("GitHub repository")]),t.loggedIn?t._e():n("button",{staticClass:"button is-primary login",on:{click:t.openModal}},[n("strong",[t._v("Log In")])])])])]),t._m(0),t._m(1),t._m(2)])])},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-dark is-4"},[n("div",{staticClass:"notification is-dark content"},[n("h4",{staticClass:"subtitle"},[t._v("Front end")]),n("ul",[n("li",[t._v("Vue.js and Vuex")]),n("li",[t._v("JavaScript game logic")]),n("li",[t._v("axios")]),n("li",[t._v("Bulma CSS framework")]),n("li",[t._v("Buefy interface library")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-4"},[n("div",{staticClass:"notification is-dark content"},[n("h4",{staticClass:"subtitle"},[t._v("Back end")]),n("ul",[n("li",[t._v("Node.js + Express")]),n("li",[t._v("Express passport with JWT")]),n("li",[t._v("mongoDB")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-8"},[n("div",{staticClass:"notification is-dark content"},[n("h3",{staticClass:"subtitle"},[t._v("Future Updates")]),n("ul",[n("li",[t._v("Login system with JWT to authenticate users")]),n("li",[t._v("Multiplayer mode with rank system")]),n("li",[t._v(" Use magic square to decide if a game is a draw before the 9th mark is placed on the board, e.g draw game if no possible win condition ")]),n("li",[t._v("Use minimax algorithm to select computer difficulty")])])])])}],T={computed:Object(u["c"])("user",["loggedIn"]),methods:Object(u["b"])("user",["openModal"])},A=T,x=(n("86e0"),Object(g["a"])(A,E,S,!1,null,"93148cc8",null)),I=x.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered is-unselectable game"},[t.localGame||t.historyView?t.historyView?n("div",[n("History")],1):n("div",[n("TicTacToe")],1):n("div",[n("Options"),n("Start")],1)])])},j=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container has-text-centered"},[n("h1",{staticClass:"title"},[t._v("Please select options")]),n("p",{staticClass:"mb-4 is-size-4"},[t._v(" Player one: "+t._s(t.playerOne.cpu?"CPU #"+t.playerOne.difficulty:"Local Player")+" ")]),n("div",{staticClass:"columns is-centered is-vcentered"},[n("div",{staticClass:"column is-narrow"},[n("div",{staticClass:"player-select"},[n("b-switch",{attrs:{value:t.playerOne.cpu,type:"is-success","passive-type":"is-primary"},model:{value:t.playerOne.cpu,callback:function(e){t.$set(t.playerOne,"cpu",e)},expression:"playerOne.cpu"}},[t._v(" CPU ")])],1)]),n("div",{staticClass:"column is-narrow slider"},[n("b-field",[n("b-slider",{attrs:{size:"is-medium",type:t.playerOne.cpu?"is-success":"is-primary",min:0,max:3,value:t.playerOne.difficulty,tooltip:!1},on:{dragging:function(e){t.playerOne.cpu=!0}},model:{value:t.playerOne.difficulty,callback:function(e){t.$set(t.playerOne,"difficulty",e)},expression:"playerOne.difficulty"}})],1)],1)]),n("p",{staticClass:"mt-4 mb-4 is-size-4"},[t._v(" Player two: "+t._s(t.playerTwo.cpu?"CPU #"+t.playerTwo.difficulty:"Local Player")+" ")]),n("div",{staticClass:"columns is-centered is-vcentered"},[n("div",{staticClass:"column is-narrow"},[n("div",{staticClass:"player-select"},[n("b-switch",{attrs:{value:t.playerTwo.cpu,type:"is-success","passive-type":"is-primary"},model:{value:t.playerTwo.cpu,callback:function(e){t.$set(t.playerTwo,"cpu",e)},expression:"playerTwo.cpu"}},[t._v(" CPU ")])],1)]),n("div",{staticClass:"column is-narrow slider"},[n("b-slider",{attrs:{size:"is-medium",type:t.playerTwo.cpu?"is-success":"is-primary",min:0,max:3,value:t.playerTwo.difficulty,tooltip:!1},on:{dragging:function(e){t.playerTwo.cpu=!0}},model:{value:t.playerTwo.difficulty,callback:function(e){t.$set(t.playerTwo,"difficulty",e)},expression:"playerTwo.difficulty"}})],1)])])},M=[],G={computed:Object(l["a"])({},Object(u["d"])({playerOne:function(t){return t.localGameOptions.playerOne},playerTwo:function(t){return t.localGameOptions.playerTwo}}))},P=G,L=(n("6318"),Object(g["a"])(P,R,M,!1,null,"456625a8",null)),$=L.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container has-text-centered tictactoe"},[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"columns is-mobile"},[n("div",{staticClass:"column"},[n("div",[n("h1",{key:"playerOne",staticClass:"subtitle"},[t._v("X: "+t._s(t.playerOne))]),n("h1",{key:t.playerOneScore,staticClass:"title"},[t._v(" "+t._s(t.playerOneScore)+" ")])])]),n("div",{staticClass:"column is-narrow"},[n("div",[n("h1",{key:"turn",staticClass:"subtitle"},[t._v("Turn")]),n("h1",{key:t.game.status.turnCount,staticClass:"title"},[t._v(" "+t._s(t.game.status.turnCount)+" ")])])]),n("div",{staticClass:"column"},[n("div",[n("h1",{key:"playerTwo",staticClass:"subtitle"},[t._v("O: "+t._s(t.playerTwo))]),n("h1",{key:t.playerTwoScore,staticClass:"title"},[t._v(" "+t._s(t.playerTwoScore)+" ")])])])])]),n("div",{staticClass:"board"},t._l(t.game.board,(function(e,s){return n("div",{key:"row"+(s+1),staticClass:"row"},t._l(t.game.board[s],(function(e,i){return n("div",{key:"row"+(s+1)+"col"+(i+1),staticClass:"cell",class:{"has-text-primary has-text-weight-medium":t.isLastMove("row"+(s+1)+"col"+(i+1)),"has-text-primary glowing":t.isHighlighted("row"+(s+1)+"col"+(i+1))},attrs:{id:"row"+(s+1)+"col"+(i+1)},on:{click:function(e){return t.confirmInput("row"+(s+1)+"col"+(i+1))}}},[n("transition-group",{attrs:{name:"fade"}},[n("span",{key:"row"+(s+1)+"col"+(i+1)},[t._v(t._s(t.game.board[s][i]))])])],1)})),0)})),0),n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"container has-text-centered mt-4 mb-2 status-message"},[n("div",[n("div",{staticClass:"pt-1",on:{click:t.handleClick}},[n("p",{staticClass:"title",class:{"has-text-primary":t.isEnded}},[t.isEnded?n("span",[t._v(t._s(t.result))]):n("span",[t._v(t._s(t.game.currentPlayer.mark)+"'s turn")])]),n("p",{staticClass:"subtitle",class:{"has-text-primary":t.isEnded}},[t.isEnded?n("span",[t._v("Press here to play again")]):0===t.game.history.length?n("span",[t._v("Let's go")]):n("span",[t._v("Last move: "+t._s(t.game.history[t.game.history.length-1].player.mark)+" to ["+t._s(t.game.history[t.game.history.length-1].move[0]+1)+", "+t._s(t.game.history[t.game.history.length-1].move[1]+1)+"] ")])])]),t.isEnded?n("div",{staticClass:"pt-1"},[n("button",{on:{click:t.viewHistory}},[t._v("View History")])]):t._e()])])]),n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"container has-text-centered"},[n("button",{staticClass:"button is-info opt",on:{click:t.resetGame}},[t._v("Reset")]),n("button",{staticClass:"button is-danger opt",on:{click:t.closeGame}},[t._v(" Close ")])])])],1)},H=[],B=(n("caad"),n("2532"),n("3835")),W={computed:Object(l["a"])({},Object(u["d"])({game:function(t){return t.localGame.instance},result:function(t){return t.history.result},isEnded:function(t){return t.localGame.instance.status.isEnded},playerOneScore:function(t){return t.localGame.playerOneScore},playerTwoScore:function(t){return t.localGame.playerTwoScore},playerOne:function(t){return t.localGame.instance.playerOne.cpu?"CPU#".concat(t.localGame.instance.playerOne.difficulty):"Player"},playerTwo:function(t){return t.localGame.instance.playerTwo.cpu?"CPU#".concat(t.localGame.instance.playerTwo.difficulty):"Player"}})),created:function(){var t=this;this.newGame(),this.unwatchGameStatus=this.$watch("isEnded",(function(e){console.log("updating isEnded to ".concat(e)),console.log(t.game.status),console.log(t.game.history),e&&t.endRound()}))},beforeDestroy:function(){console.log("** calling unwatchGameStatus **"),this.unwatchGameStatus()},data:function(){return{historyObj:{},processingInput:!1}},methods:{newGame:function(){this.$store.commit("NEW_GAME")},isHighlighted:function(t){return this.$store.state.localGame.instance.status.winCondition.includes(t)},isLastMove:function(t){if(this.game.currentMove){var e=Object(B["a"])(this.game.currentMove,2),n=e[0],s=e[1];return this.game.gridReference[n][s]===t}},viewHistory:function(){this.$store.commit("VIEW_HISTORY")},endRound:function(){this.historyObj.history=this.history,this.historyObj.outcome=this.game.status.draw?"draw":this.game.currentPlayer,this.historyObj.winCondition=this.game.status.winCondition,this.historyObj.board=this.game.board,this.$store.commit("SAVE_RESULT",this.historyObj),this.$store.commit("SAVE_HISTORY",this.game.history),this.$store.commit("SAVE_BOARD",this.game.board),this.$store.commit("CHANGE_STEP",this.game.status.turnCount-1),this.$store.commit("END_ROUND",this.game.status.draw?"draw":this.game.currentPlayer.mark)},resetGame:function(){this.$store.commit("RESET_GAME"),this.newGame()},closeGame:function(){this.$store.commit("RESET_GAME"),this.$store.commit("CLOSE_GAME")},confirmInput:function(t){console.log(t),!0!==this.processingInput&&(this.processingInput=!0,this.isEnded||this.game.confirmInput(t),this.processingInput=!1)},handleClick:function(){console.log("handleClick method"),this.isEnded&&this.newGame()}}},D=W,V=(n("2981"),Object(g["a"])(D,U,H,!1,null,"74c92756",null)),Y=V.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero"},[n("div",{staticClass:"container"},[n("button",{staticClass:"button mt-4 is-medium is-primary",on:{click:t.startGame}},[t._v(" Start Game ")])])])},q=[],K={methods:{startGame:function(){this.$store.commit("START_GAME")}}},z=K,X=Object(g["a"])(z,J,q,!1,null,null,null),F=X.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container has-text-centered tictactoe"},[n("h1",{staticClass:"title"},[t._v("HISTORY MODE")]),n("div",{staticClass:"notification is-primary"},[n("p",[t._v("Winner: "+t._s(t.result.outcome.mark))]),n("p",[t._v("Turns: "+t._s(t.history.length))]),n("p",[t._v(" Player: "+t._s(t.result.outcome.cpu?"CPU#"+t.result.outcome.difficulty:"Local Player")+" ")])]),n("div",{staticClass:"board mb-4"},t._l(t.board,(function(e,s){return n("div",{key:s,staticClass:"row",attrs:{id:"row"+(s+1)}},t._l(t.board[s],(function(e,i){return n("div",{key:"row"+(s+1)+"col"+(i+1),staticClass:"cell",class:{"has-text-primary glowing":t.isHighlighted("row"+(s+1)+"col"+(i+1))},attrs:{id:"row"+(s+1)+"col"+(i+1)}},[n("transition",{attrs:{name:"fade"}},[n("span",[t._v(t._s(t.board[s][i]))])])],1)})),0)})),0),n("b-steps",{attrs:{animated:"",rounded:"","has-navigation":""},model:{value:t.activeStep,callback:function(e){t.activeStep=e},expression:"activeStep"}},[t._l(t.history,(function(t,e){return[n("b-step-item",{key:"turn"+(e+1),attrs:{step:e+1,clickable:!0}})]}))],2),n("h2",{staticClass:"subtitle"},[t._v(" "+t._s(t.history[t.activeStep].player.mark)+" on "+t._s(t.history[t.activeStep].move)+" ")]),n("button",{staticClass:"button is-danger opt",on:{click:t.closeHistory}},[t._v(" Close ")])],1)},Z=[],tt={computed:Object(l["a"])(Object(l["a"])({},Object(u["d"])({history:function(t){return t.history.instance},result:function(t){return t.history.result},board:function(t){return t.history.board}})),{},{activeStep:{get:function(){return this.$store.state.history.step},set:function(t){this.$store.commit("CHANGE_STEP",t),console.log("CHANGE_HISTORY_BOARD",t),console.log("history value",this.history[t]),this.$store.commit("CHANGE_HISTORY_BOARD",this.history[t])}}}),methods:{isHighlighted:function(t){return this.activeStep+1===this.history.length&&this.result.winCondition.includes(t)},changeStep:function(){},closeHistory:function(){this.$store.commit("CLOSE_HISTORY")}}},et=tt,nt=(n("1fad"),Object(g["a"])(et,Q,Z,!1,null,"5b915874",null)),st=nt.exports,it={computed:Object(l["a"])({},Object(u["d"])({localGame:function(t){return t.localGame.isActive},historyView:function(t){return t.history.isActive}})),components:{Options:$,TicTacToe:Y,Start:F,History:st}},at=it,rt=Object(g["a"])(at,N,j,!1,null,null,null),ot=rt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title"},[t._v("Rankings")]),n("Search",{on:{"search-string":t.search}}),t._l(t.playerList,(function(t){return n("PlayerCard",{key:t._id,attrs:{player:t}})}))],2)])},lt=[],ut=(n("ac1f"),n("841c"),n("96cf"),n("1da1")),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card notification is-info"},[n("div",{staticClass:"card-content"},[n("h1",{staticClass:"title"},[t._v("Player Card")]),n("p",{staticClass:"is-size-5"},[t._v(" Name: "),n("span",[t._v(t._s(t.player.username?t.player.username:t.player))])]),n("p",{staticClass:"is-size-5"},[t._v(" Games played: "),n("span",[t._v(t._s(t.player.gamesPlayed?t.player.gamesPlayed:"N/A"))])]),n("p",{staticClass:"is-size-5"},[t._v(" ELO: "),n("span",[t._v(t._s(t.player.rating?t.player.rating:"N/A"))])]),t._m(0)])])},dt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"card-footer"},[n("button",{staticClass:"button is-link mt-2"},[t._v("Challenge")])])}],mt={props:{player:[Object,String,Array]}},pt=mt,ft=(n("58d3"),Object(g["a"])(pt,ht,dt,!1,null,"a619fd4e",null)),vt=ft.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card notification is-info"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label has-text-white"},[t._v("Name: "+t._s(t.test))]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.test,expression:"test"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.test},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendRequest(e)},input:function(e){e.target.composing||(t.test=e.target.value)}}})]),n("button",{staticClass:"button is-link mt-2",on:{click:t.sendRequest}},[t._v("Search")])])])])},yt=[],bt={data:function(){return{test:""}},methods:{sendRequest:function(){this.$emit("search-string",this.test)}}},_t=bt,Ct=(n("3a4c"),Object(g["a"])(_t,gt,yt,!1,null,"88ba054e",null)),Ot=Ct.exports,wt=(n("b0c0"),"");d.a.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&console.log("logout...."),Promise.reject(t)}));var kt=d.a.create({baseURL:wt,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),Et={getUsers:function(){return kt.get("/api/user")},getUser:function(t){return kt.get("/api/user/"+t)},registerUser:function(t){return kt.post("/api/auth/register",{username:t.name,email:t.email,password:t.password})},loginUser:function(t){return console.log("loginUser - API-interface"),d.a.post("/api/auth/login",{username:t.name,password:t.password})},search:function(t){return kt.get("/api/user/search/"+t)},testJWT:function(t){var e=d.a.create({baseURL:wt,withCredentials:!1,headers:{Authorization:t,Accept:"application/json","Content-Type":"application/json"}});return e.get("/api/user/posts")},testJWT2:function(t){return kt.defaults.headers.common["Authorization"]=t,kt.get("/api/user/posts")}},St={components:{PlayerCard:vt,Search:Ot},computed:{searchArray:function(){return this.$store.state.searchArray}},data:function(){return{playerList:[]}},created:function(){var t=this;0===this.searchArray.length||void 0===this.searchArray?Et.getUsers().then((function(e){return t.playerList=e.data})).catch((function(t){return console.log(t)})):this.playerList=this.searchArray},methods:{search:function(t){var e=this;return Object(ut["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("searching for: ",t),console.log("store data: ",e.searchArray),""===t?Et.getUsers().then((function(t){e.playerList=t.data,e.updateSearchArray()})).catch((function(t){return console.log(t)})):Et.search(t).then((function(t){e.playerList=t.data,e.updateSearchArray()})).catch((function(t){return console.log(t)}));case 3:case"end":return n.stop()}}),n)})))()},updateSearchArray:function(){console.log("trying to update searchArray store with: ",this.playerList),this.$store.commit("rememberSearchResults",this.playerList)}}},Tt=St,At=(n("9c55"),Object(g["a"])(Tt,ct,lt,!1,null,"3165fb7c",null)),xt=At.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-4 is-vertical is-parent"},[n("div",{staticClass:"tile is-child notification is-info"},[n("p",{staticClass:"title"},[t._v("Details")]),n("p",[t._v("Player Name: "),t.user?n("span",[t._v(t._s(t.user.name))]):t._e()]),n("p",[t._v("Games Played")]),n("p",[t._v("ELO rating")]),n("p",[t._v("Last Results")])]),n("div",{staticClass:"tile is-child notification is-dark"},[n("Settings")],1),n("div",{staticClass:"tile is-child notification is-danger"},[n("p",{staticClass:"title"},[t._v("Test")]),n("button",{on:{click:t.printUser}},[t._v("Print user")]),n("button",{on:{click:t.testJWT}},[t._v("TEST JWT")])])]),n("div",{staticClass:"tile is-8 is-parent"},[n("div",{staticClass:"tile is-child notification is-dark"},[n("Chat")],1)])])])},Nt=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("Settings")]),n("b-switch",{attrs:{"left-label":!0,value:t.online,disabled:!t.loggedIn},on:{input:t.changeStatus}},[t._v("You are "+t._s(t.online?"online":"offline"))])],1)},Rt=[],Mt={data:function(){return{}},computed:Object(l["a"])({},Object(u["c"])("user",["loggedIn","online","messages"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["enableOnline","disableOnline"])),{},{changeStatus:function(){this.online?this.disableOnline():this.enableOnline()}})},Gt=Mt,Pt=Object(g["a"])(Gt,jt,Rt,!1,null,null,null),Lt=Pt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"title"},[t._v(" Chat "),n("span",[n("b-switch",{attrs:{value:t.activeChat,size:"is-medium",disabled:!t.online},on:{input:t.changeStatus}},[t._v(" "+t._s(t.activeChat?"Disable Chat":"Enable Chat"))])],1)]),t.activeChat?n("div",[n("div",{staticClass:"chat notification has-background-grey-dark"},t._l(t.socket.chat,(function(e,s){return n("p",{key:s},[n("span",{staticClass:"tag has-background-primary has-text-white is-medium mb-2"},[n("span",{staticClass:"has-text-weight-semibold"},[t._v(t._s(10>e.hour?"0"+e.hour:e.hour)+":"+t._s(10>e.minute?"0"+e.minute:e.minute)+" "+t._s(e.username)+":")]),n("span",{staticClass:"pl-2"},[t._v(" "+t._s(e.text)+" ")])])])})),0),n("div",{staticClass:"field has-addons"},[n("button",{staticClass:"control button is-primary",on:{click:t.handleMessage}},[t._v("Send")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"control input",attrs:{type:"text"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleMessage(e)},input:function(e){e.target.composing||(t.message=e.target.value)}}})])]):t._e()])},Ut=[],Ht={data:function(){return{message:""}},computed:Object(u["c"])("user",["socket","activeChat","online"]),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["joinChat","leaveChat","sendMessage"])),{},{changeStatus:function(){this.activeChat?this.leaveChat():this.joinChat()},handleMessage:function(){""!==this.message&&(this.sendMessage(this.message),this.message="")}})},Bt=Ht,Wt=(n("5ff3"),Object(g["a"])(Bt,$t,Ut,!1,null,"72ec39dc",null)),Dt=Wt.exports,Vt={components:{Settings:Lt,Chat:Dt},data:function(){return{socket:null,list:"hi",message:"Jabadabbadoo",messages:[]}},computed:Object(l["a"])({},Object(u["c"])("user",["user"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("user",["testJWT","enableChat"])),{},{printUser:function(){console.log(this.user)}})},Yt=Vt,Jt=(n("566d"),Object(g["a"])(Yt,It,Nt,!1,null,"65d60606",null)),qt=Jt.exports;a["a"].use(k["a"]);var Kt=[{path:"/",component:I},{path:"/about",name:"about",component:I},{path:"/game",name:"game",component:ot},{path:"/rankings",name:"rankings",component:xt,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:qt,meta:{requiresAuth:!0}},{path:"*",component:I}],zt=new k["a"]({mode:"history",linkExactActiveClass:"is-active",routes:Kt});zt.beforeEach((function(t,e,n){var s=localStorage.getItem("user");t.matched.some((function(t){return t.meta.requiresAuth}))&&!s?n("/"):n()}));var Xt,Ft,Qt=zt,Zt=(n("99af"),n("4de4"),n("4160"),n("a434"),n("a9e3"),n("159b"),n("d4ec")),te=n("bee2"),ee=function(){function t(e){var n=e.playerOne,s=e.playerTwo,i=e.board,a=e.turnCount;Object(Zt["a"])(this,t);var r=[["","",""],["","",""],["","",""]];this.board=i||r,this.gridReference=[["row1col1","row1col2","row1col3"],["row2col1","row2col2","row2col3"],["row3col1","row3col2","row3col3"]],this.magicSquare=[[2,7,6],[9,5,1],[4,3,8]],this.playerOne=n,this.playerTwo=s,this.currentPlayer=this.playerOne.turn?this.playerOne:this.playerTwo,this.delay=1e3,this.history=[],this.currentMove=null,this.spamControl=!1,this.possibleMoves=[],this.status={turnCount:a||1,isEnded:!1,draw:!1,winCondition:[]},this.minimaxStatus={maxPlayer:null,minPlayer:null,startingPlayer:null},console.log("inside constructor, here is the board: ",this.board),console.log("here is the gridReference: ",this.gridReference),console.log("starting player is: ",this.startingPlayer),this.setStartingPlayer(),this.computerMove()}return Object(te["a"])(t,[{key:"setStartingPlayer",value:function(){var t="X"===this.currentPlayer.mark?"X":"O";this.minimaxStatus.startingPlayer=t}},{key:"getMark",value:function(){return this.currentPlayer===this.playerOne?this.playerOne.mark:this.playerTwo.mark}},{key:"getNextMark",value:function(){return this.currentPlayer===this.playerOne?this.playerTwo.mark:this.playerOne.mark}},{key:"checkStatus",value:function(){var t=this.board,e=this.getMark(),n=this.getNextMark();console.log("checkStatus function - mark: "+e+", nextMark: "+n),t[0][0]===e&&t[0][1]===e&&t[0][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][0],this.gridReference[0][1],this.gridReference[0][2]]):t[1][0]===e&&t[1][1]===e&&t[1][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[1][0],this.gridReference[1][1],this.gridReference[1][2]]):t[2][0]===e&&t[2][1]===e&&t[2][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[2][0],this.gridReference[2][1],this.gridReference[2][2]]):t[0][0]===e&&t[1][0]===e&&t[2][0]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][0],this.gridReference[1][0],this.gridReference[2][0]]):t[0][1]===e&&t[1][1]===e&&t[2][1]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][1],this.gridReference[1][1],this.gridReference[2][1]]):t[0][2]===e&&t[1][2]===e&&t[2][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][2],this.gridReference[1][2],this.gridReference[2][2]]):t[0][0]===e&&t[1][1]===e&&t[2][2]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][0],this.gridReference[1][1],this.gridReference[2][2]]):t[0][2]===e&&t[1][1]===e&&t[2][0]===e?(this.status.isEnded=!0,this.status.winCondition=[this.gridReference[0][2],this.gridReference[1][1],this.gridReference[2][0]]):this.isDraw(this.getNextMark(),this.getMark(),this.status.turnCount,this.board)?(this.status.isEnded=!0,this.status.draw=!0):console.log("Game cannot be decided on turn ".concat(this.status.turnCount,"..."))}},{key:"isDraw",value:function(t,e,n,s){var i=this;if(n>=9)return!0;if(8===n)return!this.checkMagicSquare(this.cloneBoard(s),t);if(n<8&&n>4){var a=this.getAllCombinations(s),r=!0;return a.forEach((function(n){!1!==r&&(i.checkWinCondition(n,t)||i.checkWinCondition(n,e))&&(r=!1)})),r}return!1}},{key:"getAllCombinations",value:function(t){var e=this,n=this.getAvaliableMoves(t),s=function(t){if(t<0)return null;if(0===t||1===t)return 1;for(var e=t-1;e>=1;e--)t*=e;return t},i=null;i=2===n.length?2:s(n.length)/(2*s(n.length-2)),console.log("possible outcomes: ",i);for(var a=new Array(i),r=0;r<a.length;r++)a[r]=new Array(n.length);var o=[],c=function(){function t(e,n,s,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];Object(Zt["a"])(this,t),this.mark=e,this.index=n,this.depth=i,this.indexArray=s,this.children=r,this.parent=a,this.generateOptions(),this.writeOptions()}return Object(te["a"])(t,[{key:"generateOptions",value:function(){var e=this;if(0!==this.indexArray.length)if(1!==this.indexArray.length)this.indexArray.forEach((function(n){var s=e.indexArray.filter((function(t){return t!==n})),i=new t("X"===e.mark?"O":"X",n,s,e.depth+1,e);e.children.push(i)}));else{var n=new t("X"===this.mark?"O":"X",this.indexArray[0],[],this.depth+1,this);this.children.push(n)}}},{key:"writeOptions",value:function(){if(this.depth===n.length){var t=new Array(n.length);t[this.index]=this.mark,o.push(t);var e=this.parent,s=n.length;do{t[e.index]=e.mark,e=this.getParent(e),s-=1}while(s>1)}}},{key:"getParent",value:function(t){return t.parent}}]),t}(),l=function(){function t(e,n){Object(Zt["a"])(this,t),this.levels=e,this.mark=n,this.children=[]}return Object(te["a"])(t,[{key:"createMainBranches",value:function(){for(var t=this,e=[],n=0;n<this.levels;n++)e.push(n);for(var s=function(n){var s=e.filter((function(t){return t!==n}));console.log("iteration ".concat(n,", currentIndex ").concat(n,", rest ").concat(s));var i=new c(t.mark,n,s,1);console.log("created new node: ",i),t.children.push(i)},i=0;i<this.levels;i++)s(i)}}]),t}(),u=function(t,e){for(var n=0;n<t.length;n++){for(var s=!1,i=0;i<t[n].length;i++){if(t[n][i]!==e[i]){s=!1;break}s=!0}if(s)return!0}return!1},h=new l(n.length,this.getNextMark());h.createMainBranches(),console.log("answer:"),console.log(o);var d=[];o.forEach((function(t){d.length!==i&&(u(d,t)||d.push(t))})),console.log("filtered answer:"),console.log(d),console.log("avaliableSpaces:"),console.log(n);var m=[];return d.forEach((function(s){for(var i=e.cloneBoard(t),a=0;a<s.length;a++){var r=Object(B["a"])(n[a],2),o=r[0],c=r[1];i[o][c]=s[a]}m.push(i)})),console.log("returnArr:"),console.log(m),m}},{key:"cloneBoard",value:function(t){for(var e=new Array(3),n=0;n<e.length;n++)e[n]=new Array(3);for(var s=0;s<t.length;s++)for(var i=0;i<t[s].length;i++)e[s][i]=t[s][i];return e}},{key:"checkMagicSquare",value:function(t,e){console.log("checkMagicSquare function..."),console.log("mark: ",e),console.log("testBoard"),console.log(t);for(var n=0;n<t.length;n++)for(var s=0;s<t[n].length;s++)t[n][s]===e||""===t[n][s]?t[n][s]=this.magicSquare[n][s]:t[n][s]=0;return t[0][0]+t[0][1]+t[0][2]===15||(t[1][0]+t[1][1]+t[1][2]===15||(t[2][0]+t[2][1]+t[2][2]===15||(t[0][0]+t[1][0]+t[2][0]===15||(t[0][1]+t[1][1]+t[2][1]===15||(t[0][2]+t[1][2]+t[2][2]===15||(t[0][0]+t[1][1]+t[2][2]===15||t[2][0]+t[1][1]+t[0][2]===15))))))}},{key:"checkWinCondition",value:function(t,e){var n=!1;return(t[0][0]===e&&t[0][1]===e&&t[0][2]===e||t[1][0]===e&&t[1][1]===e&&t[1][2]===e||t[2][0]===e&&t[2][1]===e&&t[2][2]===e||t[0][0]===e&&t[1][0]===e&&t[2][0]===e||t[0][1]===e&&t[1][1]===e&&t[2][1]===e||t[0][2]===e&&t[1][2]===e&&t[2][2]===e||t[0][0]===e&&t[1][1]===e&&t[2][2]===e||t[0][2]===e&&t[1][1]===e&&t[2][0]===e)&&(n=!0),n}},{key:"getAvaliableMoves",value:function(t){for(var e=new Array(0),n=0;n<t.length;n++)for(var s=0;s<t[n].length;s++)this.validInput(t,[n,s])&&e.push([n,s]);return console.log("avaliable moves: ",e),e}},{key:"validInput",value:function(t,e){var n=Object(B["a"])(e,2),s=n[0],i=n[1];return""===t[s][i]}},{key:"confirmInput",value:function(t){var e=this.getIndex(t);!this.validInput(this.board,e)||this.currentPlayer.cpu||this.spamControl||(this.spamControl=!0,this.updateBoard(e),this.nextIteration(),this.computerMove()),this.spamControl=!1}},{key:"getIndex",value:function(t){for(var e=0;e<this.gridReference.length;e++)for(var n=0;n<this.gridReference[e].length;n++)if(t===this.gridReference[e][n])return[e,n]}},{key:"computerRandomChoice",value:function(){console.log("I'm making a random choice");var t=!1,e=0,n=0;while(!t)e=Math.floor(Math.random()*this.board.length),n=Math.floor(Math.random()*this.board[e].length),this.validInput(this.board,[e,n])&&(t=!0);return console.log("I have chosen ",e," and ",n),[e,n]}},{key:"computerBlockOrWin",value:function(){console.log("computerBlockOrWin function");var t=this.getMark(),e=this.getAvaliableMoves(this.board),n=0;while(n<e.length){var s=new Array(0);console.log("board after creation with new Array(0)"),console.log(s),s=this.cloneBoard(this.board),console.log(s);var i=Object(B["a"])(e[n],2),a=i[0],r=i[1];if(s[a][r]=t,console.log("printing board from while loop in computerBlockOrWin function - checking potential win"),console.log(s),this.checkWinCondition(s,t))return console.log("I have found a win condition on ".concat(e[n]," and will win on this round")),e[n];n+=1}console.log("I have not found any win condtions and will now check to prevent a loss");var o=this.getNextMark();n=0;while(n<e.length){var c=new Array(0);console.log("board after creation with new Array(0)"),console.log(c),c=this.cloneBoard(this.board),console.log(c);var l=Object(B["a"])(e[n],2),u=l[0],h=l[1];if(c[u][h]=o,console.log("printing board from while loop in computerBlockOrWin function - checking potential loss"),console.log(c),this.checkWinCondition(c,o))return console.log("I have found a loss condition on ".concat(e[n]," and will block this move")),e[n];n+=1}return console.log("I have not found any win or loss condition - returning false"),!1}},{key:"createMinimaxPlayers",value:function(t,e){this.minimaxStatus.maxPlayer=t,this.minimaxStatus.minPlayer=e}},{key:"bestMove",value:function(t,e){if(e>4){if(1===this.status.turnCount){var n=[[0,0],[0,2],[2,0],[2,2]];return n[Math.floor(3*Math.random())]}if(2===this.status.turnCount&&""===this.board[1][1])return[1,1]}this.createMinimaxPlayers(t,"X"===t?"O":"X");for(var s=Number.NEGATIVE_INFINITY,i=this.getAvaliableMoves(this.board),a=null,r=this.status.turnCount+1,o=0;o<i.length;o++){var c=Object(B["a"])(i[o],2),l=c[0],u=c[1],h=this.cloneBoard(this.board);h[l][u]=this.minimaxStatus.maxPlayer;var d=this.minimax(h,e,!1,r,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY);d>s&&(s=d,a=[l,u])}return a}},{key:"getScore",value:function(t,e){console.log("getScore",t,e);var n=!1,s=0;return this.checkWinCondition(t,this.minimaxStatus.minPlayer)&&(s=-1e3,n=!0),this.checkWinCondition(t,this.minimaxStatus.maxPlayer)&&(s=1e3,n=!0),9===e&&(n=!0),{score:s,ended:n}}},{key:"minimax",value:function(t,e,n,s,i,a){console.log("minimax, ",t,e,n,s);var r=this.getScore(t,s);if(0===e||r.ended)return r.score/s;if(n){for(var o=Number.NEGATIVE_INFINITY,c=this.getAvaliableMoves(t),l=s+1,u=0;u<c.length;u++){var h=Object(B["a"])(c[u],2),d=h[0],m=h[1],p=this.cloneBoard(t);p[d][m]=this.minimaxStatus.maxPlayer;var f=this.minimax(p,e-1,!1,l,i,a);if(o=Math.max(o,f),i=Math.max(i,f),a<=i)break}return o}for(var v=Number.POSITIVE_INFINITY,g=this.getAvaliableMoves(t),y=s+1,b=0;b<g.length;b++){var _=Object(B["a"])(g[b],2),C=_[0],O=_[1],w=this.cloneBoard(t);w[C][O]=this.minimaxStatus.minPlayer;var k=this.minimax(w,e-1,!0,y,i,a);if(v=Math.min(v,k),a=Math.min(a,k),a<=i)break}return v}},{key:"computerChoice",value:function(){console.log("computerChoice function - I'm making a choice based on my difficulty setting, which is ",this.currentPlayer.difficulty);var t=null;switch(this.currentPlayer.difficulty){case 0:t=this.computerRandomChoice();break;case 1:t=this.computerBlockOrWin(),t||(t=this.computerRandomChoice());break;case 2:t=this.bestMove(this.getMark(),2);break;case 3:t=this.bestMove(this.getMark(),10);break;default:t=this.computerRandomChoice()}return console.log("I have chosen, ",t),t}},{key:"computerMove",value:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.status.isEnded){t.next=2;break}return t.abrupt("return");case 2:if(this.playerOne.cpu||!this.playerOne.turn){t.next=4;break}return t.abrupt("return");case 4:if(this.playerTwo.cpu||!this.playerTwo.turn){t.next=6;break}return t.abrupt("return");case 6:return console.log("before delay"),t.next=9,new Promise((function(t){return setTimeout(t,e.delay)}));case 9:console.log("after delay"),(this.playerOne.cpu&&this.playerOne.turn||this.playerTwo.cpu&&this.playerTwo.turn)&&(this.updateBoard(this.computerChoice()),this.nextIteration()),this.playerOne.cpu&&this.playerTwo.cpu&&this.computerMove();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateBoard",value:function(t){this.currentMove=t;var e=Object(B["a"])(t,2),n=e[0],s=e[1];this.board[n].splice(s,1,this.getMark())}},{key:"nextIteration",value:function(){console.log("nextiteration - starting player is: ",this.startingPlayer),this.addHistory(),this.status.isEnded||(this.checkStatus(),this.status.isEnded||this.newTurn())}},{key:"newTurn",value:function(){this.status.turnCount+=1,this.playerOne.turn=!this.playerOne.turn,this.playerTwo.turn=!this.playerTwo.turn,this.currentPlayer=this.playerOne.turn?this.playerOne:this.playerTwo}},{key:"returnWinCondition",value:function(){return this.status.winCondition}},{key:"addHistory",value:function(){this.history.push({turn:this.status.turnCount,move:this.currentMove,player:this.currentPlayer})}}]),t}(),ne=!0,se={notifications:[],nextId:1},ie={PUSH:function(t,e){t.notifications.push(Object(l["a"])(Object(l["a"])({},e),{},{id:t.nextId})),t.nextId=t.nextId+1},DELETE:function(t,e){t.notifications=t.notifications.filter((function(t){return t.id!==e.id}))}},ae={add:function(t,e){var n=t.commit;n("PUSH",e)},remove:function(t,e){var n=t.commit;n("DELETE",e)}},re=n("8055"),oe=n.n(re),ce="",le=function(){function t(e){Object(Zt["a"])(this,t),this.user=e,this.socket=oe()(ce),this.chat=[],this.initSocket()}return Object(te["a"])(t,[{key:"initSocket",value:function(){var t=this;this.socket.on("connect",(function(){console.log("socket.io connected"),console.log("socket id: ",t.socket.id)})),this.socket.on("message",(function(e){var n=t.chat.length;t.chat.push(""),t.chat.splice(n,1,e)}))}},{key:"joinChat",value:function(){console.log("joinchat function"),console.log(this.user),this.socket.emit("joinChat",{username:this.user.name})}},{key:"leaveChat",value:function(){this.socket.emit("leaveChat")}},{key:"sendMessage",value:function(t){this.socket.emit("sendMessage",t)}}]),t}(),ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v(" "+t._s(t.login?"Login":"Register")+" ")]),n("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}})]),n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Username"}},[n("b-input",{attrs:{placeholder:"Your username",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("b-checkbox",[t._v("Accept policy*")]),n("p",[t._v("* this project saves user data to local storage")])],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Close ")]),n("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.verifyRequest}},[t._v(" "+t._s(t.login?"Login":"Register")+" ")]),n("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){t.login=!t.login}}},[t._v(" "+t._s(t.login?"Not registered? Please register":"Already got an account? Please log in")+" ")])])])},he=[],de={data:function(){return{login:!0,name:"",password:"",data:{name:"",password:""}}},computed:Object(l["a"])({},Object(u["c"])("user",["modalActive","loggedIn"])),methods:{verifyRequest:function(){""===this.name&&""===this.password||""===this.name&&""!==this.password||""===this.password&&""!==this.name||(this.data.name=this.name,this.data.password=this.password,console.log("data added"),this.login?this.emitLogin(this.data):this.emitRegister(this.data))},emitLogin:function(){this.$emit("logIn",this.data)},emitRegister:function(){this.$emit("register",this.data)}}},me=de,pe=Object(g["a"])(me,ue,he,!1,null,null,null),fe=pe.exports,ve={},ge=Object(g["a"])(ve,Xt,Ft,!1,null,null,null),ye=ge.exports,be=n("61b7"),_e=!0,Ce={user:null,modal:{show:!1,resolve:null},multiplayer:{show:!1,resolve:null},online:!1,messages:null,socket:null,activeChat:!1},Oe={SET_NEW_USER:function(t){t.user={}},SET_USER_TOKEN:function(t,e){t.user.token=e.token,t.user.expiresIn=e.expiresIn},SET_USER_NAME:function(t,e){t.user.name=e},SET_USER_LOCALSTORAGE:function(t){localStorage.setItem("user",JSON.stringify(t.user))},SET_USER_DATA:function(t,e){t.user=e},CLEAR_USER_LOCALSTORAGE:function(){localStorage.removeItem("user"),location.reload()},SHOW_LOGIN:function(t){var e=this;t.modal.instance=be["a"].open({parent:this.parent,component:fe,hasModalCard:!0,customClass:"custom-class custom-class-2",trapFocus:!0,events:{logIn:function(t){console.log(t),e.dispatch("user/logIn",t)},register:function(t){console.log(t),e.dispatch("user/register",t)}}})},HIDE_LOGIN:function(t){console.log("hiding modal..."),t.modal.instance.close()},SHOW_MULTIPLAYER:function(t){var e=this;t.multiplayer.instance=be["a"].open({parent:this.parent,component:ye,trapFocus:!0,canCancel:!1,events:{makeMove:function(t){console.log(t),e.dispatch("user/makeMove",t)},cancelGame:function(){e.dispatch("cancelGame")}}})},ENABLE_ONLINE:function(t){t.online=!0},DISABLE_ONLINE:function(t){t.online=!1},OPEN_SOCKET_CONNECTION:function(t){t.socket=new le(t.user)},CLOSE_SOCKET_CONNECTION:function(t){t.socket=null},JOIN_CHAT:function(t){t.socket.joinChat(),t.activeChat=!0},LEAVE_CHAT:function(t){t.socket.leaveChat(),t.activeChat=!1},SEND_MESSAGE:function(t,e){t.socket.sendMessage(e)}},we={logIn:function(t,e){var n=t.commit;Et.loginUser(e).then((function(t){console.log(e),console.log(t.data),n("SET_NEW_USER"),n("SET_USER_NAME",e.name),n("SET_USER_TOKEN",t.data),n("SET_USER_LOCALSTORAGE"),n("HIDE_LOGIN")})).catch((function(t){return console.log(t)}))},logOut:function(t){var e=t.commit;console.log("trying to log out..."),e("CLEAR_USER_LOCALSTORAGE")},register:function(t,e){var n=t.commit;Et.registerUser(e).then((function(t){console.log(e),console.log(t.data),n("SET_NEW_USER"),n("SET_USER_NAME",e.name),n("SET_USER_TOKEN",t.data),n("SET_USER_LOCALSTORAGE"),n("HIDE_LOGIN")})).catch((function(t){return console.log(t)}))},setUser:function(t,e){var n=t.commit;n("SET_USER_DATA",e)},showModal:function(t){var e=t.commit;e("SHOW_MODAL")},hideModal:function(t){var e=t.commit;e("HIDE_MODAL")},openModal:function(t){var e=t.commit;e("SHOW_LOGIN")},enableOnline:function(t){var e=t.commit;e("ENABLE_ONLINE"),e("OPEN_SOCKET_CONNECTION")},disableOnline:function(t){var e=t.commit;e("LEAVE_CHAT"),e("DISABLE_ONLINE"),e("CLOSE_SOCKET_CONNECTION")},testJWT:function(t){Et.testJWT2(Ce.user.token).then((function(t){console.log(t)})).catch((function(e){console.log("there was an error...",e),401===e.response.status&&t.dispatch("logOut")}))},joinChat:function(t){var e=t.commit;e("JOIN_CHAT")},leaveChat:function(t){var e=t.commit;e("LEAVE_CHAT")},sendMessage:function(t,e){var n=t.commit;console.log("sending message ",e),n("SEND_MESSAGE",e)}},ke={loggedIn:function(t){return!!t.user},modalActive:function(t){return t.modal.show},online:function(t){return t.online},messages:function(t){return t.messages},user:function(t){return t.user},socket:function(t){return t.socket},activeChat:function(t){return t.activeChat}};a["a"].use(u["a"]);var Ee=new u["a"].Store({modules:{user:i,notification:s},state:{showNav:!1,searchArray:[],localGameOptions:{playerOne:{cpu:!0,difficulty:0,turn:!0,mark:"X"},playerTwo:{cpu:!1,difficulty:0,turn:!1,mark:"O"}},localGame:{isActive:!1,instance:null,playerOneScore:0,playerTwoScore:0,round:0},history:{isActive:!1,instance:null,result:null,board:null,step:0}},mutations:{CLICK_NAV:function(t){!1===t.showNav?t.showNav=!0:!0===t.showNav&&(t.showNav=!1)},CLICK_LINK:function(t){t.showNav=!1},UPDATE_PLAYER_ONE:function(t,e){t.localGameOptions.playerOne.cpu,t.localGameOptions.playerOne.cpu,e&&(t.localGameOptions.playerOne.difficulty=e)},UPDATE_PLAYER_TWO:function(t,e){t.localGameOptions.playerTwo.cpu,t.localGameOptions.playerTwo.cpu,e&&(t.localGameOptions.playerTwo.difficulty=e)},rememberSearchResults:function(t,e){t.searchArray=e},NEW_GAME:function(t){t.localGame.instance=new ee(t.localGameOptions)},SAVE_HISTORY:function(t,e){t.history.instance=e},SAVE_RESULT:function(t,e){t.history.result=e},SAVE_BOARD:function(t,e){t.history.board=e},CHANGE_STEP:function(t,e){t.history.step=e},CHANGE_HISTORY_BOARD:function(t,e){t.history.board=[["","",""],["","",""],["","",""]];for(var n=0;n<e.turn;n++){console.log("state move:"),console.log(t.history.instance[n].move),console.log("state move: "),console.log(t.history.instance[n].player.mark);var s=Object(B["a"])(t.history.instance[n].move,2),i=s[0],a=s[1];console.log(i,a),t.history.board[i][a]=t.history.instance[n].player.mark}},END_ROUND:function(t,e){t.localGameOptions.playerOne.turn=!t.localGameOptions.playerOne.turn,t.localGameOptions.playerTwo.turn=!t.localGameOptions.playerTwo.turn,t.localGame.round+=1,"draw"!==e&&("X"===e?t.localGame.playerOneScore+=1:t.localGame.playerTwoScore+=1)},RESET_GAME:function(t){t.localGameOptions.playerOne.turn=!0,t.localGameOptions.playerTwo.turn=!1,t.localGame.playerOneScore=0,t.localGame.playerTwoScore=0},CLOSE_GAME:function(t){t.localGame.isActive=!1},START_GAME:function(t){t.localGame.isActive=!0},VIEW_HISTORY:function(t){t.history.isActive=!0},CLOSE_HISTORY:function(t){t.history.isActive=!1}},actions:{register:function(t,e){var n=t.data;return console.log("trying to submit: ",n,e)}},getters:{loggedIn:function(t){return!!t.user}}});n("5abe");a["a"].config.productionTip=!1,a["a"].use(r["a"]),new a["a"]({router:Qt,store:Ee,render:function(t){return t(w)}}).$mount("#app")},"57dd":function(t,e,n){},"58d3":function(t,e,n){"use strict";var s=n("f145"),i=n.n(s);i.a},"59f1":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var s=n("9c0c"),i=n.n(s);i.a},"5de3":function(t,e,n){},"5ff3":function(t,e,n){"use strict";var s=n("59f1"),i=n.n(s);i.a},6318:function(t,e,n){"use strict";var s=n("c300"),i=n.n(s);i.a},"653c":function(t,e,n){"use strict";var s=n("5de3"),i=n.n(s);i.a},"6c28":function(t,e,n){},7054:function(t,e,n){},"86e0":function(t,e,n){"use strict";var s=n("f1c0"),i=n.n(s);i.a},9155:function(t,e,n){},"9c0c":function(t,e,n){},"9c55":function(t,e,n){"use strict";var s=n("9155"),i=n.n(s);i.a},c300:function(t,e,n){},f145:function(t,e,n){},f1c0:function(t,e,n){}});
//# sourceMappingURL=app.5a1c7983.js.map